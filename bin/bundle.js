!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){var i;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,h=o.indexOf,p={},d=p.toString,f=p.hasOwnProperty,m=f.toString,v=m.call(Object),g={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},E=function(e){return null!=e&&e===e.window},T={type:!0,src:!0,noModule:!0};function x(e,t,n){var i,r=(t=t||s).createElement("script");if(r.text=e,n)for(i in T)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?p[d.call(e)]||"object":typeof e}var w=function(e,t){return new w.fn.init(e,t)},R=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!y(e)&&!E(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},w.extend=w.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(u&&i&&(w.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},s[t]=w.extend(u,o,i)):void 0!==i&&(s[t]=i));return s},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==d.call(e))&&(!(t=a(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&m.call(n)===v)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){x(e)},each:function(e,t){var n,i=0;if(S(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(R,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?w.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(S(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:g}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=o[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){p["[object "+t+"]"]=t.toLowerCase()});var _=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){var t,n,i,r,o,s,a,l,u,c,h,p,d,f,m,v,g,y,E,T="sizzle"+1*new Date,x=e.document,b=0,w=0,R=se(),S=se(),_=se(),M=function(e,t){return e===t&&(h=!0),0},H={}.hasOwnProperty,A=[],P=A.pop,C=A.push,D=A.push,L=A.slice,I=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",U="[\\x20\\t\\r\\n\\f]",N="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+U+"*("+N+")(?:"+U+"*([*^$|!~]?=)"+U+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+U+"*\\]",B=":("+N+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",k=new RegExp(U+"+","g"),F=new RegExp("^"+U+"+|((?:^|[^\\\\])(?:\\\\.)*)"+U+"+$","g"),j=new RegExp("^"+U+"*,"+U+"*"),V=new RegExp("^"+U+"*([>+~]|"+U+")"+U+"*"),q=new RegExp("="+U+"*([^\\]'\"]*?)"+U+"*\\]","g"),G=new RegExp(B),X=new RegExp("^"+N+"$"),W={ID:new RegExp("^#("+N+")"),CLASS:new RegExp("^\\.("+N+")"),TAG:new RegExp("^("+N+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+U+"*(even|odd|(([+-]|)(\\d*)n|)"+U+"*(?:([+-]|)"+U+"*(\\d+)|))"+U+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+U+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+U+"*((?:-\\d)?\\d*)"+U+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+U+"?|("+U+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){p()},re=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{D.apply(A=L.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(e){D={apply:A.length?function(e,t){C.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,r){var o,a,u,c,h,f,g,y=t&&t.ownerDocument,b=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==b&&9!==b&&11!==b)return i;if(!r&&((t?t.ownerDocument||t:x)!==d&&p(t),t=t||d,m)){if(11!==b&&(h=$.exec(e)))if(o=h[1]){if(9===b){if(!(u=t.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&E(t,u)&&u.id===o)return i.push(u),i}else{if(h[2])return D.apply(i,t.getElementsByTagName(e)),i;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!_[e+" "]&&(!v||!v.test(e))){if(1!==b)y=t,g=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=T),a=(f=s(e)).length;a--;)f[a]="#"+c+" "+ge(f[a]);g=f.join(","),y=Q.test(e)&&me(t.parentNode)||t}if(g)try{return D.apply(i,y.querySelectorAll(g)),i}catch(e){}finally{c===T&&t.removeAttribute("id")}}}return l(e.replace(F,"$1"),t,i,r)}function se(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ae(e){return e[T]=!0,e}function le(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:x;return s!==d&&9===s.nodeType&&s.documentElement?(f=(d=s).documentElement,m=!o(d),x!==d&&(r=d.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=le(function(e){return f.appendChild(e).id=T,!d.getElementsByName||!d.getElementsByName(T).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(J,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},g=[],v=[],(n.qsa=K.test(d.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+T+"'></a><select id='"+T+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+U+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+U+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+T+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+T+"+*").length||v.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+U+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),g.push("!=",B)}),v=v.length&&new RegExp(v.join("|")),g=g.length&&new RegExp(g.join("|")),t=K.test(f.compareDocumentPosition),E=t||K.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},M=t?function(e,t){if(e===t)return h=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===d||e.ownerDocument===x&&E(x,e)?-1:t===d||t.ownerDocument===x&&E(x,t)?1:c?I(c,e)-I(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===d?-1:t===d?1:r?-1:o?1:c?I(c,e)-I(c,t):0;if(r===o)return ce(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ce(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(q,"='$1']"),n.matchesSelector&&m&&!_[t+" "]&&(!g||!g.test(t))&&(!v||!v.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),E(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var r=i.attrHandle[t.toLowerCase()],o=r&&H.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(M),h){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return c=null,e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=oe.selectors={cacheLength:50,createPseudo:ae,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(J,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(J,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return W.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(J,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=R[e+" "];return t||(t=new RegExp("(^|"+U+")"+e+"("+U+"|$)"))&&R(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=oe.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(k," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,h,p,d,f,m=o!==s?"nextSibling":"previousSibling",v=t.parentNode,g=a&&t.nodeName.toLowerCase(),y=!l&&!a,E=!1;if(v){if(o){for(;m;){for(p=t;p=p[m];)if(a?p.nodeName.toLowerCase()===g:1===p.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?v.firstChild:v.lastChild],s&&y){for(E=(d=(u=(c=(h=(p=v)[T]||(p[T]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===b&&u[1])&&u[2],p=d&&v.childNodes[d];p=++d&&p&&p[m]||(E=d=0)||f.pop();)if(1===p.nodeType&&++E&&p===t){c[e]=[b,d,E];break}}else if(y&&(E=d=(u=(c=(h=(p=t)[T]||(p[T]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===b&&u[1]),!1===E)for(;(p=++d&&p&&p[m]||(E=d=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==g:1!==p.nodeType)||!++E||(y&&((c=(h=p[T]||(p[T]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]=[b,E]),p!==t)););return(E-=r)===i||E%i==0&&E/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[T]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=I(e,o[s])]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ae(function(e){var t=[],n=[],i=a(e.replace(F,"$1"));return i[T]?ae(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(J,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return X.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(J,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=pe(t);function ve(){}function ge(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ye(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=w++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var u,c,h,p=[b,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(c=(h=t[T]||(t[T]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((u=c[o])&&u[0]===b&&u[1]===a)return p[2]=u[2];if(c[o]=p,p[2]=e(t,n,l))return!0}return!1}}function Ee(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function Te(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),u&&t.push(a)));return s}function xe(e,t,n,i,r,o){return i&&!i[T]&&(i=xe(i)),r&&!r[T]&&(r=xe(r,o)),ae(function(o,s,a,l){var u,c,h,p=[],d=[],f=s.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),v=!e||!o&&t?m:Te(m,p,e,a,l),g=n?r||(o?e:f||i)?[]:s:v;if(n&&n(v,g,a,l),i)for(u=Te(g,d),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(g[d[c]]=!(v[d[c]]=h));if(o){if(r||e){if(r){for(u=[],c=g.length;c--;)(h=g[c])&&u.push(v[c]=h);r(null,g=[],u,l)}for(c=g.length;c--;)(h=g[c])&&(u=r?I(o,h):p[c])>-1&&(o[u]=!(s[u]=h))}}else g=Te(g===s?g.splice(f,g.length):g),r?r(null,s,g,l):D.apply(s,g)})}function be(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=ye(function(e){return e===t},a,!0),h=ye(function(e){return I(t,e)>-1},a,!0),p=[function(e,n,i){var r=!s&&(i||n!==u)||((t=n).nodeType?c(e,n,i):h(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])p=[ye(Ee(p),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[T]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return xe(l>1&&Ee(p),l>1&&ge(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(F,"$1"),n,l<r&&be(e.slice(l,r)),r<o&&be(e=e.slice(r)),r<o&&ge(e))}p.push(n)}return Ee(p)}return ve.prototype=i.filters=i.pseudos,i.setFilters=new ve,s=oe.tokenize=function(e,t){var n,r,o,s,a,l,u,c=S[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=i.preFilter;a;){for(s in n&&!(r=j.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=V.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(F," ")}),a=a.slice(n.length)),i.filter)!(r=W[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):S(e,l).slice(0)},a=oe.compile=function(e,t){var n,r=[],o=[],a=_[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=be(t[n]))[T]?r.push(a):o.push(a);(a=_(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,s,a,l,c){var h,f,v,g=0,y="0",E=o&&[],T=[],x=u,w=o||r&&i.find.TAG("*",c),R=b+=null==x?1:Math.random()||.1,S=w.length;for(c&&(u=s===d||s||c);y!==S&&null!=(h=w[y]);y++){if(r&&h){for(f=0,s||h.ownerDocument===d||(p(h),a=!m);v=e[f++];)if(v(h,s||d,a)){l.push(h);break}c&&(b=R)}n&&((h=!v&&h)&&g--,o&&E.push(h))}if(g+=y,n&&y!==g){for(f=0;v=t[f++];)v(E,T,s,a);if(o){if(g>0)for(;y--;)E[y]||T[y]||(T[y]=P.call(l));T=Te(T)}D.apply(l,T),c&&!o&&T.length>0&&g+t.length>1&&oe.uniqueSort(l)}return c&&(b=R,u=x),E};return n?ae(o):o}(o,r))).selector=e}return a},l=oe.select=function(e,t,n,r){var o,l,u,c,h,p="function"==typeof e&&e,d=!r&&s(e=p.selector||e);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(J,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=W.needsContext.test(e)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((h=i.find[c])&&(r=h(u.matches[0].replace(J,ee),Q.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ge(l)))return D.apply(n,r),n;break}}return(p||a(e,d))(r,t,!m,n,!t||Q.test(e)&&me(t.parentNode)||t),n},n.sortStable=T.split("").sort(M).join("")===T,n.detectDuplicates=!!h,p(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ue(O,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),oe}(n);w.find=_,w.expr=_.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=_.uniqueSort,w.text=_.getText,w.isXMLDoc=_.isXML,w.contains=_.contains,w.escapeSelector=_.escape;var M=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&w(e).is(n))break;i.push(e)}return i},H=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=w.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var C=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function D(e,t,n){return y(t)?w.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return h.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?w.find.matchesSelector(i,e)?[i]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<i;t++)if(w.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)w.find(e,r[t],n);return i>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,"string"==typeof e&&A.test(e)?w(e):e||[],!1).length}});var L,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:I.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),C.test(i[1])&&w.isPlainObject(t))for(i in t)y(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,L=w(s);var O=/^(?:parents|prev(?:Until|All))/,U={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&w(e);if(!A.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(w(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return M(e,"parentNode")},parentsUntil:function(e,t,n){return M(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return M(e,"nextSibling")},prevAll:function(e){return M(e,"previousSibling")},nextUntil:function(e,t,n){return M(e,"nextSibling",n)},prevUntil:function(e,t,n){return M(e,"previousSibling",n)},siblings:function(e){return H((e.parentNode||{}).firstChild,e)},children:function(e){return H(e.firstChild)},contents:function(e){return P(e,"iframe")?e.contentDocument:(P(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,i){var r=w.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=w.filter(i,r)),this.length>1&&(U[e]||w.uniqueSort(r),O.test(e)&&r.reverse()),this.pushStack(r)}});var z=/[^\x20\t\r\n\f]+/g;function B(e){return e}function k(e){throw e}function F(e,t,n,i){var r;try{e&&y(r=e.promise)?r.call(e).done(t).fail(n):e&&y(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}w.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return w.each(e.match(z)||[],function(e,n){t[n]=!0}),t}(e):w.extend({},e);var t,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){w.each(n,function(n,i){y(i)?e.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==b(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return w.each(arguments,function(e,t){for(var n;(n=w.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},w.extend({Deferred:function(e){var t=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(n){w.each(t,function(t,i){var r=y(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,i,r){var o=0;function s(e,t,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(e<o)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?r?u.call(n,s(o,t,B,r),s(o,t,k,r)):(o++,u.call(n,s(o,t,B,r),s(o,t,k,r),s(o,t,B,t.notifyWith))):(i!==B&&(a=void 0,l=[n]),(r||t.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(n,c.stackTrace),e+1>=o&&(i!==k&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),n.setTimeout(c))}}return w.Deferred(function(n){t[0][3].add(s(0,n,y(r)?r:B,n.notifyWith)),t[1][3].add(s(0,n,y(e)?e:B)),t[2][3].add(s(0,n,y(i)?i:k))}).promise()},promise:function(e){return null!=e?w.extend(e,r):r}},o={};return w.each(t,function(e,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=l.call(arguments),o=w.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(F(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)F(r[n],s(n),o.reject);return o.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&j.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},w.readyException=function(e){n.setTimeout(function(){throw e})};var V=w.Deferred();function q(){s.removeEventListener("DOMContentLoaded",q),n.removeEventListener("load",q),w.ready()}w.fn.ready=function(e){return V.then(e).catch(function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||V.resolveWith(s,[w]))}}),w.ready.then=V.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(w.ready):(s.addEventListener("DOMContentLoaded",q),n.addEventListener("load",q));var G=function(e,t,n,i,r,o,s){var a=0,l=e.length,u=null==n;if("object"===b(n))for(a in r=!0,n)G(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),u&&(s?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(w(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:u?t.call(e):l?t(e[0],n):o},X=/^-ms-/,W=/-([a-z])/g;function Y(e,t){return t.toUpperCase()}function Z(e){return e.replace(X,"ms-").replace(W,Y)}var K=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function $(){this.expando=w.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[Z(t)]=n;else for(i in t)r[Z(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Z):(t=Z(t))in i?[t]:t.match(z)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||w.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var Q=new $,J=new $,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return J.hasData(e)||Q.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=Z(i.slice(5)),ne(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){J.set(this,e)}):G(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),w.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Q.get(e,t),n&&(!i||Array.isArray(n)?i=Q.access(e,t,w.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),i=n.length,r=n.shift(),o=w._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){w.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:w.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=w.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},ae=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r};function le(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return w.css(e,t,"")},l=a(),u=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==u&&+l)&&re.exec(w.css(e,t));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)w.style(e,t,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,w.style(e,t,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ue={};function ce(e){var t,n=e.ownerDocument,i=e.nodeName,r=ue[i];return r||(t=n.body.appendChild(n.createElement(i)),r=w.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ue[i]=r,r)}function he(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&se(i)&&(r[o]=ce(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}w.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,fe=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?w.merge([e],n):n}function ge(e,t){for(var n=0,i=e.length;n<i;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ye,Ee,Te=/<|&#?\w+;/;function xe(e,t,n,i,r){for(var o,s,a,l,u,c,h=t.createDocumentFragment(),p=[],d=0,f=e.length;d<f;d++)if((o=e[d])||0===o)if("object"===b(o))w.merge(p,o.nodeType?[o]:o);else if(Te.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(de.exec(o)||["",""])[1].toLowerCase(),l=me[a]||me._default,s.innerHTML=l[1]+w.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;w.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(t.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(i&&w.inArray(o,i)>-1)r&&r.push(o);else if(u=w.contains(o.ownerDocument,o),s=ve(h.appendChild(o),"script"),u&&ge(s),n)for(c=0;o=s[c++];)fe.test(o.type||"")&&n.push(o);return h}ye=s.createDocumentFragment().appendChild(s.createElement("div")),(Ee=s.createElement("input")).setAttribute("type","radio"),Ee.setAttribute("checked","checked"),Ee.setAttribute("name","t"),ye.appendChild(Ee),g.checkClone=ye.cloneNode(!0).cloneNode(!0).lastChild.checked,ye.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!ye.cloneNode(!0).lastChild.defaultValue;var be=s.documentElement,we=/^key/,Re=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Se=/^([^.]*)(?:\.(.+)|)/;function _e(){return!0}function Me(){return!1}function He(){try{return s.activeElement}catch(e){}}function Ae(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Ae(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Me;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return w().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=w.guid++)),e.each(function(){w.event.add(this,t,r,i,n)})}w.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,u,c,h,p,d,f,m,v=Q.get(e);if(v)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&w.find.matchesSelector(be,r),n.guid||(n.guid=w.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(t){return void 0!==w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(z)||[""]).length;u--;)d=m=(a=Se.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),d&&(h=w.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,h=w.event.special[d]||{},c=w.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&w.expr.match.needsContext.test(r),namespace:f.join(".")},o),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(d,s)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,u,c,h,p,d,f,m,v=Q.hasData(e)&&Q.get(e);if(v&&(l=v.events)){for(u=(t=(t||"").match(z)||[""]).length;u--;)if(d=m=(a=Se.exec(t[u])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=w.event.special[d]||{},p=l[d=(i?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(e,f,v.handle)||w.removeEvent(e,d,v.handle),delete l[d])}else for(d in l)w.event.remove(e,d+t[u],n,i,!0);w.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=w.event.fix(e),l=new Array(arguments.length),u=(Q.get(this,"events")||{})[a.type]||[],c=w.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=w.event.handlers.call(this,a,u),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((w.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&e.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?w(r,this).index(u)>-1:w.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<t.length&&a.push({elem:u,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==He()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===He()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&P(this,"input"))return this.click(),!1},_default:function(e){return P(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?_e:Me,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:Me,isPropagationStopped:Me,isImmediatePropagationStopped:Me,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_e,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_e,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=_e,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Re.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||w.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,i){return Ae(this,e,t,n,i)},one:function(e,t,n,i){return Ae(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,w(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Me),this.each(function(){w.event.remove(this,e,n,t)})}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ce=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ie(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&w(e).children("tbody")[0]||e}function Oe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ue(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var n,i,r,o,s,a,l,u;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),s=Q.set(t,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)w.event.add(t,r,u[r][n]);J.hasData(e)&&(a=J.access(e),l=w.extend({},a),J.set(t,l))}}function ze(e,t,n,i){t=u.apply([],t);var r,o,s,a,l,c,h=0,p=e.length,d=p-1,f=t[0],m=y(f);if(m||p>1&&"string"==typeof f&&!g.checkClone&&De.test(f))return e.each(function(r){var o=e.eq(r);m&&(t[0]=f.call(this,r,o.html())),ze(o,t,n,i)});if(p&&(o=(r=xe(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=w.map(ve(r,"script"),Oe)).length;h<p;h++)l=r,h!==d&&(l=w.clone(l,!0,!0),a&&w.merge(s,ve(l,"script"))),n.call(e[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,w.map(s,Ue),h=0;h<a;h++)l=s[h],fe.test(l.type||"")&&!Q.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):x(l.textContent.replace(Le,""),c,l))}return e}function Be(e,t,n){for(var i,r=t?w.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||w.cleanData(ve(i)),i.parentNode&&(n&&w.contains(i.ownerDocument,i)&&ge(ve(i,"script")),i.parentNode.removeChild(i));return e}w.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,l,u,c=e.cloneNode(!0),h=w.contains(e.ownerDocument,e);if(!(g.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(s=ve(c),i=0,r=(o=ve(e)).length;i<r;i++)a=o[i],l=s[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&pe.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||ve(e),s=s||ve(c),i=0,r=o.length;i<r;i++)Ne(o[i],s[i]);else Ne(e,c);return(s=ve(c,"script")).length>0&&ge(s,!h&&ve(e,"script")),c},cleanData:function(e){for(var t,n,i,r=w.event.special,o=0;void 0!==(n=e[o]);o++)if(K(n)){if(t=n[Q.expando]){if(t.events)for(i in t.events)r[i]?w.event.remove(n,i):w.removeEvent(n,i,t.handle);n[Q.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return G(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return ze(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ie(this,e).appendChild(e)})},prepend:function(){return ze(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ie(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return ze(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return ze(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return G(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ce.test(e)&&!me[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return ze(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ve(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,i=[],r=w(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),w(r[s])[t](n),c.apply(i,n.get());return this.pushStack(i)}});var ke=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},je=new RegExp(oe.join("|"),"i");function Ve(e,t,n){var i,r,o,s,a=e.style;return(n=n||Fe(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(s=w.style(e,t)),!g.pixelBoxStyles()&&ke.test(s)&&je.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(u).appendChild(c);var e=n.getComputedStyle(c);i="1%"!==e.top,l=12===t(e.marginLeft),c.style.right="60%",a=36===t(e.right),r=36===t(e.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",be.removeChild(u),c=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(g,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var Ge=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,We={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"},Ze=["Webkit","Moz","ms"],Ke=s.createElement("div").style;function $e(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=function(e){if(e in Ke)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ze.length;n--;)if((e=Ze[n]+t)in Ke)return e}(e)||e),t}function Qe(e,t,n){var i=re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Je(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=w.css(e,n+oe[s],!0,r)),i?("content"===n&&(l-=w.css(e,"padding"+oe[s],!0,r)),"margin"!==n&&(l-=w.css(e,"border"+oe[s]+"Width",!0,r))):(l+=w.css(e,"padding"+oe[s],!0,r),"padding"!==n?l+=w.css(e,"border"+oe[s]+"Width",!0,r):a+=w.css(e,"border"+oe[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function et(e,t,n){var i=Fe(e),r=Ve(e,t,i),o="border-box"===w.css(e,"boxSizing",!1,i),s=o;if(ke.test(r)){if(!n)return r;r="auto"}return s=s&&(g.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===w.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(r=parseFloat(r)||0)+Je(e,t,n||(o?"border":"content"),s,i,r)+"px"}function tt(e,t,n,i,r){return new tt.prototype.init(e,t,n,i,r)}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ve(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=Z(t),l=Xe.test(t),u=e.style;if(l||(t=$e(a)),s=w.cssHooks[t]||w.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:u[t];"string"===(o=typeof n)&&(r=re.exec(n))&&r[1]&&(n=le(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(w.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o,s,a=Z(t);return Xe.test(t)||(t=$e(a)),(s=w.cssHooks[t]||w.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ve(e,t,i)),"normal"===r&&t in Ye&&(r=Ye[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,i){if(n)return!Ge.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,i):ae(e,We,function(){return et(e,t,i)})},set:function(e,n,i){var r,o=Fe(e),s="border-box"===w.css(e,"boxSizing",!1,o),a=i&&Je(e,t,i,s,o);return s&&g.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Je(e,t,"border",!1,o)-.5)),a&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Qe(0,n,a)}}}),w.cssHooks.marginLeft=qe(g.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ve(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+oe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(w.cssHooks[e+t].set=Qe)}),w.fn.extend({css:function(e,t){return G(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=Fe(e),r=t.length;s<r;s++)o[t[s]]=w.css(e,t[s],!1,i);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}}),w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,it,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){it&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(st):n.setTimeout(st,w.fx.interval),w.fx.tick())}function at(){return n.setTimeout(function(){nt=void 0}),nt=Date.now()}function lt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=oe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ut(e,t,n){for(var i,r=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function ct(e,t,n){var i,r,o=0,s=ct.prefilters.length,a=w.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=nt||at(),n=Math.max(0,u.startTime+u.duration-t),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(e,[u,i,n]),i<1&&s?n:(s||a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||at(),duration:n.duration,tweens:[],createTween:function(t,n){var i=w.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return t?(a.notifyWith(e,[u,1,0]),a.resolveWith(e,[u,t])):a.rejectWith(e,[u,t]),this}}),c=u.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=Z(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=w.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=ct.prefilters[o].call(u,e,c,u.opts))return y(i.stop)&&(w._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return w.map(c,ut,u),y(u.opts.start)&&u.opts.start.call(e,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),w.fx.timer(w.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u}w.Animation=w.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(z);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,u,c,h="width"in t||"height"in t,p=this,d={},f=e.style,m=e.nodeType&&se(e),v=Q.get(e,"fxshow");for(i in n.queue||(null==(s=w._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always(function(){p.always(function(){s.unqueued--,w.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],rt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;m=!0}d[i]=v&&v[i]||w.style(e,i)}if((l=!w.isEmptyObject(t))||!w.isEmptyObject(d))for(i in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=v&&v.display)&&(u=Q.get(e,"display")),"none"===(c=w.css(e,"display"))&&(u?c=u:(he([e],!0),u=e.style.display||u,c=w.css(e,"display"),he([e]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===w.css(e,"float")&&(l||(p.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,d)l||(v?"hidden"in v&&(m=v.hidden):v=Q.access(e,"fxshow",{display:u}),o&&(v.hidden=!m),m&&he([e],!0),p.done(function(){for(i in m||he([e]),Q.remove(e,"fxshow"),d)w.style(e,i,d[i])})),l=ut(m?v[i]:0,i,p),i in v||(v[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),w.speed=function(e,t,n){var i=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return w.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in w.fx.speeds?i.duration=w.fx.speeds[i.duration]:i.duration=w.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&w.dequeue(this,i.queue)},i},w.fn.extend({fadeTo:function(e,t,n,i){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=w.isEmptyObject(e),o=w.speed(t,n,i),s=function(){var t=ct(this,w.extend({},e),o);(r||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=w.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ot.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=w.timers,s=i?i.length:0;for(n.finish=!0,w.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,i,r)}}),w.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){it||(it=!0,st())},w.fx.stop=function(){it=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(e,t){return e=w.fx&&w.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var ht,pt=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return G(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(r=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=w.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(z);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=pt[t]||w.find.attr;pt[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=pt[s],pt[s]=r,r=null!=n(e,t,i)?s:null,pt[s]=o),r}});var dt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function mt(e){return(e.match(z)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(z)||[]}w.fn.extend({prop:function(e,t){return G(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,r=w.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this}),w.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(y(e))return this.each(function(t){w(this).addClass(e.call(this,t,vt(this)))});if((t=gt(e)).length)for(;n=this[l++];)if(r=vt(n),i=1===n.nodeType&&" "+mt(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=mt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(y(e))return this.each(function(t){w(this).removeClass(e.call(this,t,vt(this)))});if(!arguments.length)return this.attr("class","");if((t=gt(e)).length)for(;n=this[l++];)if(r=vt(n),i=1===n.nodeType&&" "+mt(r)+" "){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=mt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):y(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,vt(this),t),t)}):this.each(function(){var t,r,o,s;if(i)for(r=0,o=w(this),s=gt(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=vt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+mt(vt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;w.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=y(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,w(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=w.map(r,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=w.valHooks[r.type]||w.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(yt,""):null==n?"":n:void 0}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:mt(w.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=w(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=w.makeArray(t),s=r.length;s--;)((i=r[s]).selected=w.inArray(w.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},g.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.focusin="onfocusin"in n;var Et=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(e,t,i,r){var o,a,l,u,c,h,p,d,m=[i||s],v=f.call(e,"type")?e.type:e,g=f.call(e,"namespace")?e.namespace.split("."):[];if(a=d=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!Et.test(v+w.event.triggered)&&(v.indexOf(".")>-1&&(g=v.split("."),v=g.shift(),g.sort()),c=v.indexOf(":")<0&&"on"+v,(e=e[w.expando]?e:new w.Event(v,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:w.makeArray(t,[e]),p=w.event.special[v]||{},r||!p.trigger||!1!==p.trigger.apply(i,t))){if(!r&&!p.noBubble&&!E(i)){for(u=p.delegateType||v,Et.test(u+v)||(a=a.parentNode);a;a=a.parentNode)m.push(a),l=a;l===(i.ownerDocument||s)&&m.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=m[o++])&&!e.isPropagationStopped();)d=a,e.type=o>1?u:p.bindType||v,(h=(Q.get(a,"events")||{})[e.type]&&Q.get(a,"handle"))&&h.apply(a,t),(h=c&&a[c])&&h.apply&&K(a)&&(e.result=h.apply(a,t),!1===e.result&&e.preventDefault());return e.type=v,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(m.pop(),t)||!K(i)||c&&y(i[v])&&!E(i)&&((l=i[c])&&(i[c]=null),w.event.triggered=v,e.isPropagationStopped()&&d.addEventListener(v,Tt),i[v](),e.isPropagationStopped()&&d.removeEventListener(v,Tt),w.event.triggered=void 0,l&&(i[c]=l)),e.result}},simulate:function(e,t,n){var i=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(i,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),g.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Q.access(i,t);r||i.addEventListener(e,n,!0),Q.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Q.access(i,t)-1;r?Q.access(i,t,r):(i.removeEventListener(e,n,!0),Q.remove(i,t))}}});var xt=n.location,bt=Date.now(),wt=/\?/;w.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+e),t};var Rt=/\[\]$/,St=/\r?\n/g,_t=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;function Ht(e,t,n,i){var r;if(Array.isArray(t))w.each(t,function(t,r){n||Rt.test(e)?i(e,r):Ht(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==b(t))i(e,t);else for(r in t)Ht(e+"["+r+"]",t[r],n,i)}w.param=function(e,t){var n,i=[],r=function(e,t){var n=y(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){r(this.name,this.value)});else for(n in e)Ht(n,e[n],t,r);return i.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&Mt.test(this.nodeName)&&!_t.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}});var At=/%20/g,Pt=/#.*$/,Ct=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,It=/^\/\//,Ot={},Ut={},Nt="*/".concat("*"),zt=s.createElement("a");function Bt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(z)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function kt(e,t,n,i){var r={},o=e===Ut;function s(a){var l;return r[a]=!0,w.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),s(u),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Ft(e,t){var n,i,r=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&w.extend(!0,e,i),e}zt.href=xt.href,w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,w.ajaxSettings),t):Ft(w.ajaxSettings,e)},ajaxPrefilter:Bt(Ot),ajaxTransport:Bt(Ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,l,u,c,h,p,d,f=w.ajaxSetup({},t),m=f.context||f,v=f.context&&(m.nodeType||m.jquery)?w(m):w.event,g=w.Deferred(),y=w.Callbacks("once memory"),E=f.statusCode||{},T={},x={},b="canceled",R={readyState:0,getResponseHeader:function(e){var t;if(c){if(!a)for(a={};t=Dt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return null==c&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)R.always(e[R.status]);else for(t in e)E[t]=[E[t],e[t]];return this},abort:function(e){var t=e||b;return i&&i.abort(t),S(0,t),this}};if(g.promise(R),f.url=((e||f.url||xt.href)+"").replace(It,xt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(z)||[""],null==f.crossDomain){u=s.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=zt.protocol+"//"+zt.host!=u.protocol+"//"+u.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=w.param(f.data,f.traditional)),kt(Ot,f,t,R),c)return R;for(p in(h=w.event&&f.global)&&0==w.active++&&w.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),r=f.url.replace(Pt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(At,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(wt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ct,"$1"),d=(wt.test(r)?"&":"?")+"_="+bt+++d),f.url=r+d),f.ifModified&&(w.lastModified[r]&&R.setRequestHeader("If-Modified-Since",w.lastModified[r]),w.etag[r]&&R.setRequestHeader("If-None-Match",w.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&R.setRequestHeader("Content-Type",f.contentType),R.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Nt+"; q=0.01":""):f.accepts["*"]),f.headers)R.setRequestHeader(p,f.headers[p]);if(f.beforeSend&&(!1===f.beforeSend.call(m,R,f)||c))return R.abort();if(b="abort",y.add(f.complete),R.done(f.success),R.fail(f.error),i=kt(Ut,f,t,R)){if(R.readyState=1,h&&v.trigger("ajaxSend",[R,f]),c)return R;f.async&&f.timeout>0&&(l=n.setTimeout(function(){R.abort("timeout")},f.timeout));try{c=!1,i.send(T,S)}catch(e){if(c)throw e;S(-1,e)}}else S(-1,"No Transport");function S(e,t,s,a){var u,p,d,T,x,b=t;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",R.readyState=e>0?4:0,u=e>=200&&e<300||304===e,s&&(T=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,R,s)),T=function(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,T,R,u),u?(f.ifModified&&((x=R.getResponseHeader("Last-Modified"))&&(w.lastModified[r]=x),(x=R.getResponseHeader("etag"))&&(w.etag[r]=x)),204===e||"HEAD"===f.type?b="nocontent":304===e?b="notmodified":(b=T.state,p=T.data,u=!(d=T.error))):(d=b,!e&&b||(b="error",e<0&&(e=0))),R.status=e,R.statusText=(t||b)+"",u?g.resolveWith(m,[p,b,R]):g.rejectWith(m,[R,b,d]),R.statusCode(E),E=void 0,h&&v.trigger(u?"ajaxSuccess":"ajaxError",[R,f,u?p:d]),y.fireWith(m,[R,b]),h&&(v.trigger("ajaxComplete",[R,f]),--w.active||w.event.trigger("ajaxStop")))}return R},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:r,data:n,success:i},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return y(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=y(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var jt={0:200,1223:204},Vt=w.ajaxSettings.xhr();g.cors=!!Vt&&"withCredentials"in Vt,g.ajax=Vt=!!Vt,w.ajaxTransport(function(e){var t,i;if(g.cors||Vt&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(jt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}});var qt,Gt=[],Xt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gt.pop()||w.expando+"_"+bt++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,s,a=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xt,"$1"+r):!1!==e.jsonp&&(e.url+=(wt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||w.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?w(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Gt.push(r)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),g.createHTMLDocument=((qt=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),w.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((i=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(i)):t=s),o=!n&&[],(r=C.exec(e))?[t.createElement(r[1])]:(r=xe([e],t,o),o&&o.length&&w(o).remove(),w.merge([],r.childNodes)));var i,r,o},w.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=mt(e.slice(a)),e=e.slice(0,a)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&w.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?w("<div>").append(w.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,u=w.css(e,"position"),c=w(e),h={};"static"===u&&(e.style.position="relative"),a=c.offset(),o=w.css(e,"top"),l=w.css(e,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),y(t)&&(t=t.call(e,n,w.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+r),"using"in t?t.using.call(e,h):c.css(h)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===w.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),r.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-w.css(i,"marginTop",!0),left:t.left-r.left-w.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===w.css(e,"position");)e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(i){return G(this,function(e,i,r){var o;if(E(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=qe(g.pixelPosition,function(e,n){if(n)return n=Ve(e,t),ke.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){w.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return G(this,function(t,n,r){var o;return E(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?w.css(t,n,a):w.style(t,n,r,a)},t,s?r:void 0,s)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return i=l.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(l.call(arguments)))}).guid=e.guid=e.guid||w.guid++,r},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=P,w.isFunction=y,w.isWindow=E,w.camelCase=Z,w.type=b,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(i=function(){return w}.apply(t,[]))||(e.exports=i);var Wt=n.jQuery,Yt=n.$;return w.noConflict=function(e){return n.$===w&&(n.$=Yt),e&&n.jQuery===w&&(n.jQuery=Wt),w},r||(n.jQuery=n.$=w),w})},function(e,t,n){var i,r,o;!function(n){var s=/iPhone/i,a=/iPod/i,l=/iPad/i,u=/\bAndroid(?:.+)Mobile\b/i,c=/Android/i,h=/\bAndroid(?:.+)SD4930UR\b/i,p=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,d=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,m=/BlackBerry/i,v=/BB10/i,g=/Opera Mini/i,y=/\b(CriOS|Chrome)(?:.+)Mobile/i,E=/\Mobile(?:.+)Firefox\b/i;function T(e,t){return e.test(t)}function x(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),n=t.split("[FBAN");void 0!==n[1]&&(t=n[0]),void 0!==(n=t.split("Twitter"))[1]&&(t=n[0]);var i={apple:{phone:T(s,t)&&!T(d,t),ipod:T(a,t),tablet:!T(s,t)&&T(l,t)&&!T(d,t),device:(T(s,t)||T(a,t)||T(l,t))&&!T(d,t)},amazon:{phone:T(h,t),tablet:!T(h,t)&&T(p,t),device:T(h,t)||T(p,t)},android:{phone:!T(d,t)&&T(h,t)||!T(d,t)&&T(u,t),tablet:!T(d,t)&&!T(h,t)&&!T(u,t)&&(T(p,t)||T(c,t)),device:!T(d,t)&&(T(h,t)||T(p,t)||T(u,t)||T(c,t))},windows:{phone:T(d,t),tablet:T(f,t),device:T(d,t)||T(f,t)},other:{blackberry:T(m,t),blackberry10:T(v,t),opera:T(g,t),firefox:T(E,t),chrome:T(y,t),device:T(m,t)||T(v,t)||T(g,t)||T(E,t)||T(y,t)}};return i.any=i.apple.device||i.android.device||i.windows.device||i.other.device,i.phone=i.apple.phone||i.android.phone||i.windows.phone,i.tablet=i.apple.tablet||i.android.tablet||i.windows.tablet,i}e.exports&&"undefined"==typeof window?e.exports=x:e.exports&&"undefined"!=typeof window?e.exports=x():(r=[],i=n.isMobile=x(),void 0===(o="function"==typeof i?i.apply(t,r):i)||(e.exports=o))}(this)},function(e,t,n){(function(n){var i,r=function(){this._tweens={},this._tweensAddedDuringUpdate={}};r.prototype={getAll:function(){return Object.keys(this._tweens).map(function(e){return this._tweens[e]}.bind(this))},removeAll:function(){this._tweens={}},add:function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},remove:function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},update:function(e,t){var n=Object.keys(this._tweens);if(0===n.length)return!1;for(e=void 0!==e?e:s.now();n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var r=this._tweens[n[i]];r&&!1===r.update(e)&&(r._isPlaying=!1,t||delete this._tweens[n[i]])}n=Object.keys(this._tweensAddedDuringUpdate)}return!0}};var o,s=new r;s.Group=r,s._nextId=0,s.nextId=function(){return s._nextId++},"undefined"==typeof window&&void 0!==n?s.now=function(){var e=n.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?s.now=window.performance.now.bind(window.performance):void 0!==Date.now?s.now=Date.now:s.now=function(){return(new Date).getTime()},s.Tween=function(e,t){this._object=e,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._repeat=0,this._repeatDelayTime=void 0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=null,this._easingFunction=s.Easing.Linear.None,this._interpolationFunction=s.Interpolation.Linear,this._chainedTweens=[],this._onStartCallback=null,this._onStartCallbackFired=!1,this._onUpdateCallback=null,this._onCompleteCallback=null,this._onStopCallback=null,this._group=t||s,this._id=s.nextId()},s.Tween.prototype={getId:function(){return this._id},isPlaying:function(){return this._isPlaying},to:function(e,t){return this._valuesEnd=e,void 0!==t&&(this._duration=t),this},start:function(e){for(var t in this._group.add(this),this._isPlaying=!0,this._onStartCallbackFired=!1,this._startTime=void 0!==e?"string"==typeof e?s.now()+parseFloat(e):e:s.now(),this._startTime+=this._delayTime,this._valuesEnd){if(this._valuesEnd[t]instanceof Array){if(0===this._valuesEnd[t].length)continue;this._valuesEnd[t]=[this._object[t]].concat(this._valuesEnd[t])}void 0!==this._object[t]&&(this._valuesStart[t]=this._object[t],this._valuesStart[t]instanceof Array==!1&&(this._valuesStart[t]*=1),this._valuesStartRepeat[t]=this._valuesStart[t]||0)}return this},stop:function(){return this._isPlaying?(this._group.remove(this),this._isPlaying=!1,null!==this._onStopCallback&&this._onStopCallback(this._object),this.stopChainedTweens(),this):this},end:function(){return this.update(this._startTime+this._duration),this},stopChainedTweens:function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop()},group:function(e){return this._group=e,this},delay:function(e){return this._delayTime=e,this},repeat:function(e){return this._repeat=e,this},repeatDelay:function(e){return this._repeatDelayTime=e,this},yoyo:function(e){return this._yoyo=e,this},easing:function(e){return this._easingFunction=e,this},interpolation:function(e){return this._interpolationFunction=e,this},chain:function(){return this._chainedTweens=arguments,this},onStart:function(e){return this._onStartCallback=e,this},onUpdate:function(e){return this._onUpdateCallback=e,this},onComplete:function(e){return this._onCompleteCallback=e,this},onStop:function(e){return this._onStopCallback=e,this},update:function(e){var t,n,i;if(e<this._startTime)return!0;for(t in!1===this._onStartCallbackFired&&(null!==this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n,i=this._easingFunction(n),this._valuesEnd)if(void 0!==this._valuesStart[t]){var r=this._valuesStart[t]||0,o=this._valuesEnd[t];o instanceof Array?this._object[t]=this._interpolationFunction(o,i):("string"==typeof o&&(o="+"===o.charAt(0)||"-"===o.charAt(0)?r+parseFloat(o):parseFloat(o)),"number"==typeof o&&(this._object[t]=r+(o-r)*i))}if(null!==this._onUpdateCallback&&this._onUpdateCallback(this._object),1===n){if(this._repeat>0){for(t in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat){if("string"==typeof this._valuesEnd[t]&&(this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(this._valuesEnd[t])),this._yoyo){var s=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=s}this._valuesStart[t]=this._valuesStartRepeat[t]}return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,!0}null!==this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,l=this._chainedTweens.length;a<l;a++)this._chainedTweens[a].start(this._startTime+this._duration);return!1}return!0}},s.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-s.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*s.Easing.Bounce.In(2*e):.5*s.Easing.Bounce.Out(2*e-1)+.5}}},s.Interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),o=s.Interpolation.Utils.Linear;return t<0?o(e[0],e[1],i):t>1?o(e[n],e[n-1],n-i):o(e[r],e[r+1>n?n:r+1],i-r)},Bezier:function(e,t){for(var n=0,i=e.length-1,r=Math.pow,o=s.Interpolation.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-t,i-a)*r(t,a)*e[a]*o(i,a);return n},CatmullRom:function(e,t){var n=e.length-1,i=n*t,r=Math.floor(i),o=s.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(r=Math.floor(i=n*(1+t))),o(e[(r-1+n)%n],e[r],e[(r+1)%n],e[(r+2)%n],i-r)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):o(e[r?r-1:0],e[r],e[n<r+1?n:r+1],e[n<r+2?n:r+2],i-r)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=s.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(o=[1],function(e){var t=1;if(o[e])return o[e];for(var n=e;n>1;n--)t*=n;return o[e]=t,t}),CatmullRom:function(e,t,n,i,r){var o=.5*(n-e),s=.5*(i-t),a=r*r;return(2*t-2*n+o+s)*(r*a)+(-3*t+3*n-2*o-s)*a+o*r+t}}},void 0===(i=function(){return s}.apply(t,[]))||(e.exports=i)}).call(this,n(5))},function(e,t,n){var i,r,o;
/*!
 * three.proton v0.1.3
 * https://github.com/a-jie/three.proton
 *
 * Copyright 2011-2017, A-JIE
 * Licensed under the MIT license
 * http://www.opensource.org/licenses/mit-license
 *
 */r=[],void 0===(o="function"==typeof(i=function(){function e(t,n,i,r){e._super_.call(this),this.camera=t,this.renderer=n,this.dis=i||20,r=r||"1234";for(var o=1;o<5;o++)this["d"+o]=r.indexOf(o+"")>=0;this.name="ScreenZone"}function t(e,n,i,r,o,s){var a,l,u,c,h;t._super_.call(this),j.Util.isUndefined(n,i,r,o,s)?(a=l=u=0,c=h=r=e||100):j.Util.isUndefined(r,o,s)?(a=l=u=0,c=e,h=n,r=i):(a=e,l=n,u=i,c=r,h=o,r=s),this.x=a,this.y=l,this.z=u,this.width=c,this.height=h,this.depth=r,this.friction=.85,this.max=6}function n(e,t,i){var r;n._super_.call(this),r=j.Util.isUndefined(e,t,i)?0:e,this.x=r,this.y=r,this.z=r}function i(e,t){i._super_.call(this),e instanceof THREE.Geometry?this.geometry=e:this.geometry=e.geometry,this.scale=t||1}function r(e,t,n,i){var o,s;r._super_.call(this),j.Util.isUndefined(t,n,i)?(o=0,s=e||100):(o=e,s=i),this.x=o,this.y=o,this.z=o,this.radius=s,this.the=this.phi=0}function o(e,t,n,i,r,s){o._super_.call(this),e instanceof j.Vector3D?(this.x1=e.x,this.y1=e.y,this.z1=e.z,this.x2=i.x,this.y2=i.y,this.z2=i.z):(this.x1=e,this.y1=t,this.z1=n,this.x2=i,this.y2=r,this.z2=s)}function s(){this.vector=new j.Vector3D(0,0,0),this.random=0,this.crossType="dead",this.log=!0}function a(){a._super_.call(this),this.targetPool=new j.Pool,this.materialPool=new j.Pool,this.name="CustomRender"}function l(e){l._super_.call(this,e),this._body=new THREE.Sprite(new THREE.SpriteMaterial({color:16777215})),this.name="SpriteRender"}function u(e){u._super_.call(this),this.points=e,this.name="PointsRender"}function c(e){c._super_.call(this),this.container=e,this._targetPool=new j.Pool,this._materialPool=new j.Pool,this._body=new THREE.Mesh(new THREE.BoxGeometry(50,50,50),new THREE.MeshLambertMaterial({color:"#ff0000"})),this.name="MeshRender"}function h(){this.name="BaseRender"}function p(e,t,n){this.mouseTarget=j.Util.initValue(e,window),this.ease=j.Util.initValue(t,.7),this._allowEmitting=!1,this.initEventHandler(),p._super_.call(this,n)}function d(e){this.selfBehaviours=[],d._super_.call(this,e)}function f(e){this.initializes=[],this.particles=[],this.behaviours=[],this.currentEmitTime=0,this.totalEmitTimes=-1,this.damping=.006,this.bindEmitter=!0,this.rate=new j.Rate(1,.1),f._super_.call(this,e),this.id="emitter_"+f.ID++,this.cID=0,this.name="Emitter"}function m(e,t,n,i,r,o,s){m._super_.call(this,o,s),m.prototype.reset(e,t,n,i,r),this.name="Spring"}function v(e,t,n,i){v._super_.call(this,n,i),this.reset(e,t),this.name="Color"}function g(e,t,n,i,r){g._super_.call(this,i,r),this.reset(e,t,n),this.name="Rotate"}function y(e,t,n,i){y._super_.call(this,n,i),this.reset(e,t),this.name="Scale"}function E(e,t,n,i){E._super_.call(this,n,i),this.reset(e,t),this.name="Alpha"}function T(e,t,n,i){T._super_.call(this,n,i),this.reset(e,t),this.name="CrossZone"}function x(e,t,n,i,r){x._super_.call(this,i,r),this.reset(e,t,n),this.name="Collision"}function b(e,t,n){b._super_.call(this,0,-e,0,t,n),this.name="Gravity"}function w(e,t,n,i,r){w._super_.call(this,e,t,n,i,r),this.force*=-1,this.name="Repulsion"}function R(e,t,n,i,r,o){R._super_.call(this,r,o),this.reset(e,t,n,i),this.time=0,this.name="RandomDrift"}function S(e,t,n,i,r){S._super_.call(this,i,r),this.targetPosition=j.Util.initValue(e,new j.Vector3D),this.radius=j.Util.initValue(n,1e3),this.force=j.Util.initValue(this.normalizeValue(t),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new j.Vector3D,this.lengthSq=0,this.name="Attraction"}function _(e,t,n,i,r){_._super_.call(this,i,r),_.prototype.reset.call(this,e,t,n),this.name="Force"}function M(e,t,n){M._super_.call(this),this.body=j.createArraySpan(e),this.w=t,this.h=j.Util.initValue(n,this.w)}function H(e,t,n){H._super_.call(this),this.radius=j.createSpan(e,t,n)}function A(e,t,n){A._super_.call(this),this.massPan=j.createSpan(e,t,n)}function P(e,t,n){P._super_.call(this),this.reset(e,t,n),this.dirVec=new j.Vector3D(0,0,0),this.name="Velocity"}function C(){C._super_.call(this),this.reset.apply(this,arguments)}function D(e,t,n){D._super_.call(this),this.lifePan=j.createSpan(e,t,n)}function L(){this.name="Initialize"}function I(e,t){this.numPan=j.createSpan(j.Util.initValue(e,1)),this.timePan=j.createSpan(j.Util.initValue(t,1)),this.startTime=0,this.nextTime=0,this.init()}function O(e,t){this.id="Behaviour_"+O.id++,this.life=j.Util.initValue(e,1/0),this.easing=j.Util.initValue(t,j.ease.setEasingByName(j.ease.easeLinear)),this.age=0,this.energy=1,this.dead=!1,this.name="Behaviour"}function U(e,t,n,i,r,o){this.x=e,this.y=t,this.z=n,this.width=i,this.height=r,this.depth=o,this.bottom=this.y+this.height,this.right=this.x+this.width,this.right=this.x+this.width}function N(e){this._arr=j.Util.isArray(e)?e:[e]}function z(e,t,n){this._isArray=!1,j.Util.isArray(e)?(this._isArray=!0,this.a=e):(this.a=j.Util.initValue(e,1),this.b=j.Util.initValue(t,this.a),this._center=j.Util.initValue(n,!1))}function B(){this.cID=0,this.list={}}function k(e){this.id="particle_"+k.ID++,this.name="Particle",this.reset("init"),j.Util.setPrototypeByObj(this,e)}function F(){this.initialize()}function j(e,t){this.preParticles=j.Util.initValue(e,j.POOL_MAX),this.integrationType=j.Util.initValue(t,j.EULER),this.emitters=[],this.renderers=[],this.pool=new j.Pool,j.integrator=new j.Integration(this.integrationType)}j.POOL_MAX=500,j.TIME_STEP=60,j.PI=3.142,j.DR=j.PI/180,j.MEASURE=100,j.EULER="euler",j.RK2="runge-kutta2",j.RK4="runge-kutta4",j.VERLET="verlet",j.PARTICLE_CREATED="partilcleCreated",j.PARTICLE_UPDATE="partilcleUpdate",j.PARTICLE_SLEEP="particleSleep",j.PARTICLE_DEAD="partilcleDead",j.PROTON_UPDATE="protonUpdate",j.PROTON_UPDATE_AFTER="protonUpdateAfter",j.EMITTER_ADDED="emitterAdded",j.EMITTER_REMOVED="emitterRemoved",j.bindEmtterEvent=!1,j.prototype={addRender:function(e){this.renderers.push(e),e.init(this)},removeRender:function(e){this.renderers.splice(this.renderers.indexOf(e),1),e.remove(this)},addEmitter:function(e){this.emitters.push(e),e.parent=this,this.dispatchEvent("EMITTER_ADDED",e)},removeEmitter:function(e){e.parent==this&&(this.emitters.splice(this.emitters.indexOf(e),1),e.parent=null,this.dispatchEvent("EMITTER_REMOVED",e))},update:function(e){this.dispatchEvent("PROTON_UPDATE",this);var t=e||.0167;if(t>0)for(var n=this.emitters.length;n--;)this.emitters[n].update(t);this.dispatchEvent("PROTON_UPDATE_AFTER",this)},getCount:function(){var e,t=0,n=this.emitters.length;for(e=0;e<n;e++)t+=this.emitters[e].particles.length;return t},destroy:function(){for(var e=0,t=this.emitters.length;e<t;e++)this.emitters[e].destroy(),delete this.emitters[e];this.emitters.length=0,this.pool.destroy()}},F.initialize=function(e){e.addEventListener=V.addEventListener,e.removeEventListener=V.removeEventListener,e.removeAllEventListeners=V.removeAllEventListeners,e.hasEventListener=V.hasEventListener,e.dispatchEvent=V.dispatchEvent};var V=F.prototype;V._listeners=null,V.initialize=function(){},V.addEventListener=function(e,t){return this._listeners?this.removeEventListener(e,t):this._listeners={},this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),t},V.removeEventListener=function(e,t){if(this._listeners){if(!this._listeners[e])return;for(var n=this._listeners[e],i=0,r=n.length;i<r;i++)if(n[i]==t){1==r?delete this._listeners[e]:n.splice(i,1);break}}},V.removeAllEventListeners=function(e){e?this._listeners&&delete this._listeners[e]:this._listeners=null},V.dispatchEvent=function(e,t){var n=!1,i=this._listeners;if(e&&i){var r=i[e];if(!r)return n;for(var o=(r=r.slice()).length;o--;){var s=r[o];n=n||s(t)}}return!!n},V.hasEventListener=function(e){var t=this._listeners;return!!t&&!!t[e]},F.initialize(j.prototype),j.EventDispatcher=F;var q=q||{initValue:function(e,t){var e=null!=e&&null!=e?e:t;return e},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},destroyArray:function(e){e.length=0},destroyObject:function(e){for(var t in e)delete e[t]},isUndefined:function(){for(var e in arguments){var t=arguments[e];if(void 0!==t)return!1}return!0},setVectorByObj:function(e,t){void 0!==t.x&&(e.p.x=t.x),void 0!==t.y&&(e.p.y=t.y),void 0!==t.z&&(e.p.z=t.z),void 0!==t.vx&&(e.v.x=t.vx),void 0!==t.vy&&(e.v.y=t.vy),void 0!==t.vz&&(e.v.z=t.vz),void 0!==t.ax&&(e.a.x=t.ax),void 0!==t.ay&&(e.a.y=t.ay),void 0!==t.az&&(e.a.z=t.az),void 0!==t.p&&e.p.copy(t.p),void 0!==t.v&&e.v.copy(t.v),void 0!==t.a&&e.a.copy(t.a),void 0!==t.position&&e.p.copy(t.position),void 0!==t.velocity&&e.v.copy(t.velocity),void 0!==t.accelerate&&e.a.copy(t.accelerate)},setPrototypeByObj:function(e,t,n){for(var i in t)e.hasOwnProperty(i)&&(n?n.indexOf(i)<0&&(e[i]=q._getValue(t[i])):e[i]=q._getValue(t[i]));return e},_getValue:function(e){return e instanceof z?e.getValue():e},inherits:function(e,t){if(e._super_=t,Object.create)e.prototype=Object.create(t.prototype,{constructor:{value:e}});else{var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}};j.Util=q;var G=G||{getRGB:function(e){var t={};if("number"==typeof e)i=Math.floor(e),t.r=(e>>16&255)/255,t.g=(e>>8&255)/255,t.b=(255&e)/255;else if("string"==typeof e){var n;if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(e))t.r=Math.min(255,parseInt(n[1],10))/255,t.g=Math.min(255,parseInt(n[2],10))/255,t.b=Math.min(255,parseInt(n[3],10))/255;else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var i=n[1];t.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,t.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,t.b=parseInt(i.charAt(4)+i.charAt(5),16)/255}}else e instanceof THREE.Color&&(t.r=e.r,t.g=e.g,t.b=e.b);return t}};j.ColorUtil=G;var X={toScreenPos:function(){var e=new THREE.Vector3;return function(t,n,i){return e.copy(t),e.project(n),e.x=Math.round((e.x+1)*i.width/2),e.y=Math.round((1-e.y)*i.height/2),e.z=0,e}}(),toSpacePos:function(){var e,t=new THREE.Vector3,n=new THREE.Vector3;return function(i,r,o){return t.set(i.x/o.width*2-1,-i.y/o.height*2+1,.5),t.unproject(r),n.copy(t.sub(r.position).normalize()),e=-r.position.z/n.z,t.copy(r.position),t.add(n.multiplyScalar(e)),t}}(),getTexture:function(){var e={};return function(t){if(t instanceof THREE.Texture)return t;if("string"==typeof t){var n=j.PUID.hash(t);return e[n]||(e[n]=new THREE.Texture(t)),e[n]}if(t instanceof Image){var n=j.PUID.hash(t.src);return e[n]||(e[n]=new THREE.Texture(t)),e[n]}}}()};j.THREEUtil=X;var W=W||{_id:0,_uids:{},id:function(e){for(var t in this._uids)if(this._uids[t]==e)return t;var n="PUID_"+this._id++;return this._uids[n]=e,n},hash:function(e){}};j.PUID=W,k.ID=0,k.prototype={getDirection:function(){return Math.atan2(this.v.x,-this.v.y)*(180/j.PI)},reset:function(e){return this.life=1/0,this.age=0,this.energy=1,this.dead=!1,this.sleep=!1,this.body=null,this.parent=null,this.mass=1,this.radius=10,this.alpha=1,this.scale=1,this.useColor=!1,this.useAlpha=!1,this.easing=j.ease.setEasingByName(j.ease.easeLinear),e?(this.p=new j.Vector3D,this.v=new j.Vector3D,this.a=new j.Vector3D,this.old={},this.old.p=this.p.clone(),this.old.v=this.v.clone(),this.old.a=this.a.clone(),this.behaviours=[],this.transform={},this.color={r:0,g:0,b:0},this.rotation=new j.Vector3D):(this.p.set(0,0,0),this.v.set(0,0,0),this.a.set(0,0,0),this.old.p.set(0,0,0),this.old.v.set(0,0,0),this.old.a.set(0,0,0),this.color.r=0,this.color.g=0,this.color.b=0,this.rotation.clear(),j.Util.destroyObject(this.transform),this.removeAllBehaviours()),this},update:function(e,t){if(!this.sleep){this.age+=e;for(var n=this.behaviours.length;n--;)this.behaviours[n]&&this.behaviours[n].applyBehaviour(this,e,t)}if(this.age>=this.life)this.destroy();else{var i=this.easing(this.age/this.life);this.energy=Math.max(1-i,0)}},addBehaviour:function(e){this.behaviours.push(e),e.initialize(this)},addBehaviours:function(e){for(var t=e.length;t--;)this.addBehaviour(e[t])},removeBehaviour:function(e){var t=this.behaviours.indexOf(e);t>-1&&this.behaviours.splice(t,1)},removeAllBehaviours:function(){j.Util.destroyArray(this.behaviours)},destroy:function(){this.removeAllBehaviours(),this.energy=0,this.dead=!0,this.parent=null}},j.Particle=k,B.prototype={create:function(e){return this.cID++,"function"==typeof e?new e:e.clone()},getCount:function(){var e=0;for(var t in this.list)e+=this.list[t].length;return e++},get:function(e){var t,n=e.__puid||j.PUID.id(e);return(t=this.list[n]&&this.list[n].length>0?this.list[n].pop():this.create(e)).__puid=e.__puid||n,t},expire:function(e){return this._getList(e.__puid).push(e)},destroy:function(){for(var e in this.list)this.list[e].length=0,delete this.list[e]},_getList:function(e){return e=e||"default",this.list[e]||(this.list[e]=[]),this.list[e]}},j.Pool=B;var Y={randomAToB:function(e,t,n){return n?(Math.random()*(t-e)>>0)+e:e+Math.random()*(t-e)},randomFloating:function(e,t,n){return Y.randomAToB(e-t,e+t,n)},randomZone:function(e){},degreeTransform:function(e){return e*j.PI/180},toColor16:function(e){return"#"+e.toString(16)},randomColor:function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).slice(-6)},lerp:function(e,t,n){return t+(e-t)*n},getNormal:function(e,t){return 0==e.x&&0==e.y?0==e.z?t.set(1,0,1):t.set(1,1,-e.y/e.z):0==e.x?t.set(1,0,1):t.set(-e.y/e.x,1,1),t.normalize()},axisRotate:function(e,t,n,i){var r=Math.cos(i),o=Math.sin(i),s=n.dot(t)*(1-r);e.copy(n),e.cross(t).scalar(o),e.addValue(t.x*r,t.y*r,t.z*r),e.addValue(n.x*s,n.y*s,n.z*s)}};j.MathUtils=Y;var Z=function(e){this.type=j.Util.initValue(e,j.EULER)};Z.prototype={integrate:function(e,t,n){this.euler(e,t,n)},euler:function(e,t,n){e.sleep||(e.old.p.copy(e.p),e.old.v.copy(e.v),e.a.scalar(1/e.mass),e.v.add(e.a.scalar(t)),e.p.add(e.old.v.scalar(t)),n&&e.v.scalar(n),e.a.clear())}},j.Integration=Z;var K=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0};K.prototype={set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},getGradient:function(){return 0!=this.x?Math.atan2(this.y,this.x):this.y>0?j.PI/2:this.y<0?-j.PI/2:void 0},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addValue:function(e,t,n){return this.x+=e,this.y+=t,this.z+=n,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},scalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e):this.set(0,0,0),this},negate:function(){return this.scalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},cross:function(e){var t=this.x,n=this.y,i=this.z;return this.x=n*e.z-i*e.y,this.y=i*e.x-t*e.z,this.z=t*e.y-n*e.x,this},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},crossVectors:function(e,t){var n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this},eulerFromDir:function(e){},applyEuler:function(){var e;return function(t){return void 0===e&&(e=new j.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,n){return void 0===e&&(e=new j.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,n)),this}}(),applyQuaternion:function(e){var t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,u=a*n+s*t-r*i,c=a*i+r*n-o*t,h=-r*t-o*n-s*i;return this.x=l*a+h*-r+u*-s-c*-o,this.y=u*a+h*-o+c*-r-l*-s,this.z=c*a+h*-s+l*-o-u*-r,this},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},clear:function(){return this.x=0,this.y=0,this.z=0,this},clone:function(){return new j.Vector3D(this.x,this.y,this.z)},toString:function(){return"x:"+this.x+"y:"+this.y+"z:"+this.z}},j.Vector3D=K;var $=function(e,t,n){this.radius=e||1,this.phi=n||0,this.theta=t||0};$.prototype={set:function(e,t,n){return this.radius=e||1,this.phi=n||0,this.theta=t||0,this},setRadius:function(e){return this.radius=e,this},setPhi:function(e){return this.phi=e,this},setTheta:function(e){return this.theta=e,this},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},toVector3D:function(){return new j.Vector3D(this.getX(),this.getY(),this.getZ())},getX:function(){return this.radius*Math.sin(this.theta)*Math.cos(this.phi)},getY:function(){return-this.radius*Math.sin(this.theta)*Math.sin(this.phi)},getZ:function(){return this.radius*Math.cos(this.theta)},normalize:function(){return this.radius=1,this},equals:function(e){return e.radius===this.radius&&e.phi===this.phi&&e.theta===this.theta},clear:function(){return this.radius=0,this.phi=0,this.theta=0,this},clone:function(){return new $(this.radius,this.phi,this.theta)}},j.Polar3D=$,z.prototype={getValue:function(e){return this._isArray?this.a[this.a.length*Math.random()>>0]:this._center?j.MathUtils.randomFloating(this.a,this.b,e):j.MathUtils.randomAToB(this.a,this.b,e)}},j.createSpan=function(e,t,n){return e instanceof z?e:void 0===t?new z(e):void 0===n?new z(e,t):new z(e,t,n)},j.Span=z,j.Util.inherits(N,j.Span),N.prototype.getValue=function(){var e=this._arr[this._arr.length*Math.random()>>0];return"random"==e||"Random"==e?j.MathUtils.randomColor():e},j.createArraySpan=function(e){return e?e instanceof j.ArraySpan?e:new j.ArraySpan(e):null},j.ArraySpan=N;var Q=function(e,t,n,i){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==i?i:1};Q.prototype={set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},clone:function(){return new j.Quaternion(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEuler:function(e){var t=Math.cos(e.x/2),n=Math.cos(e.y/2),i=Math.cos(e.z/2),r=Math.sin(e.x/2),o=Math.sin(e.y/2),s=Math.sin(e.z/2);return this.x=r*n*i+t*o*s,this.y=t*o*i-r*n*s,this.z=t*n*s+r*o*i,this.w=t*n*i-r*o*s,this},setFromAxisAngle:function(e,t){var n=t/2,i=Math.sin(n);return this.x=e.x*i,this.y=e.y*i,this.z=e.z*i,this.w=Math.cos(n),this},normalize:function(){var e=this.length();return 0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},j.Quaternion=Q,U.prototype={contains:function(e,t,n){return e<=this.right&&e>=this.x&&t<=this.bottom&&t>=this.y&&n<=this.depth&&n>=this.z}},j.Box=U,O.id=0,O.prototype={reset:function(e,t){this.life=j.Util.initValue(e,1/0),this.easing=j.Util.initValue(t,j.ease.setEasingByName(j.ease.easeLinear))},normalizeForce:function(e){return e.scalar(j.MEASURE)},normalizeValue:function(e){return e*j.MEASURE},initialize:function(e){},applyBehaviour:function(e,t,n){if(!this.dead){if(this.age+=t,this.age>=this.life)return this.energy=0,void(this.dead=!0);var i=this.easing(e.age/e.life);this.energy=Math.max(1-i,0)}},destroy:function(){}},j.Behaviour=O,I.prototype={init:function(){this.startTime=0,this.nextTime=this.timePan.getValue()},getValue:function(e){return this.startTime+=e,this.startTime>=this.nextTime?(this.init(),1==this.numPan.b?this.numPan.getValue("Float")>.5?1:0:this.numPan.getValue("Int")):0}},j.Rate=I,L.prototype.reset=function(){},L.prototype.init=function(e,t){t?this.initialize(t):this.initialize(e)},L.prototype.initialize=function(e){},j.Initialize=L;var J={initialize:function(e,t,n){for(var i=n.length;i--;){var r=n[i];r instanceof j.Initialize?r.init(e,t):J.init(e,t,r)}J.bindEmitter(e,t)},init:function(e,t,n){j.Util.setPrototypeByObj(t,n),j.Util.setVectorByObj(t,n)},bindEmitter:function(e,t){e.bindEmitter&&(t.p.add(e.p),t.v.add(e.v),t.a.add(e.a),t.v.applyEuler(e.rotation))}};j.InitializeUtil=J,j.Util.inherits(D,j.Initialize),D.prototype.initialize=function(e){this.lifePan.a==1/0||"infi"==this.lifePan.a?e.life=1/0:e.life=this.lifePan.getValue()},j.Life=D,j.Util.inherits(C,j.Initialize),C.prototype.reset=function(){this.zones?this.zones.length=0:this.zones=[];var e=Array.prototype.slice.call(arguments);this.zones=this.zones.concat(e)},C.prototype.addZone=function(){var e=Array.prototype.slice.call(arguments);this.zones=this.zones.concat(e)},C.prototype.initialize=function(e){var t=this.zones[Math.random()*this.zones.length>>0];t.getPosition(),e.p.x=t.vector.x,e.p.y=t.vector.y,e.p.z=t.vector.z},j.Position=C,j.P=C,j.Util.inherits(P,j.Initialize),P.prototype.reset=function(e,t,n){e instanceof j.Vector3D?(this.radiusPan=j.createSpan(1),this.dir=e.clone(),this.tha=t*j.DR,this._useV=!0):e instanceof j.Polar3D?(this.tha=t*j.DR,this.dirVec=e.toVector3D(),this._useV=!1):(this.radiusPan=j.createSpan(e),this.dir=t.clone().normalize(),this.tha=n*j.DR,this._useV=!0)},P.prototype.normalize=function(e){return e*j.MEASURE},P.prototype.initialize=function(){var e,t=new j.Vector3D(0,0,1),n=new j.Vector3D(0,0,0);return function(i){return e=this.tha*Math.random(),this._useV&&this.dirVec.copy(this.dir).scalar(this.radiusPan.getValue()),j.MathUtils.getNormal(this.dirVec,t),n.copy(this.dirVec).applyAxisAngle(t,e),n.applyAxisAngle(this.dirVec.normalize(),Math.random()*j.PI*2),i.v.copy(n),this}}(),j.Velocity=P,j.V=P,j.Util.inherits(A,j.Initialize),A.prototype.initialize=function(e){e.mass=this.massPan.getValue()},j.Mass=A,j.Util.inherits(H,j.Initialize),H.prototype.reset=function(e,t,n){this.radius=j.createSpan(e,t,n)},H.prototype.initialize=function(e){e.radius=this.radius.getValue(),e.transform.oldRadius=e.radius},j.Radius=H,j.Util.inherits(M,j.Initialize),M.prototype.initialize=function(e){var t=this.body.getValue();this.w?e.body={width:this.w,height:this.h,body:t}:e.body=t},j.Body=M,j.Util.inherits(_,j.Behaviour),_.prototype.reset=function(e,t,n){this.force=this.normalizeForce(new j.Vector3D(e,t,n)),this.force.id=Math.random()},_.prototype.applyBehaviour=function(e,t,n){_._super_.prototype.applyBehaviour.call(this,e,t,n),e.a.add(this.force)},j.F=j.Force=_,j.Util.inherits(S,j.Behaviour),S.prototype.reset=function(e,t,n,i,r){this.targetPosition=j.Util.initValue(e,new j.Vector3D),this.radius=j.Util.initValue(n,1e3),this.force=j.Util.initValue(this.normalizeValue(t),100),this.radiusSq=this.radius*this.radius,this.attractionForce=new j.Vector3D,this.lengthSq=0,i&&S._super_.prototype.reset.call(this,i,r)},S.prototype.applyBehaviour=function(e,t,n){S._super_.prototype.applyBehaviour.call(this,e,t,n),this.attractionForce.copy(this.targetPosition),this.attractionForce.sub(e.p),this.lengthSq=this.attractionForce.lengthSq(),this.lengthSq>4e-6&&this.lengthSq<this.radiusSq&&(this.attractionForce.normalize(),this.attractionForce.scalar(1-this.lengthSq/this.radiusSq),this.attractionForce.scalar(this.force),e.a.add(this.attractionForce))},j.Attraction=S,j.Util.inherits(R,j.Behaviour),R.prototype.reset=function(e,t,n,i,r,o){this.randomFoce=this.normalizeForce(new j.Vector3D(e,t,n)),this.delayPan=j.createSpan(i||.03),this.time=0,r&&R._super_.prototype.reset.call(this,r,o)},R.prototype.applyBehaviour=function(e,t,n){if(R._super_.prototype.applyBehaviour.call(this,e,t,n),this.time+=t,this.time>=this.delayPan.getValue()){var i=j.MathUtils.randomAToB(-this.randomFoce.x,this.randomFoce.x),r=j.MathUtils.randomAToB(-this.randomFoce.y,this.randomFoce.y),o=j.MathUtils.randomAToB(-this.randomFoce.z,this.randomFoce.z);e.a.addValue(i,r,o),this.time=0}},j.RandomDrift=R,j.Util.inherits(w,j.Attraction),w.prototype.reset=function(e,t,n,i,r){w._super_.prototype.reset.call(this,e,t,n,i,r),this.force*=-1},j.Repulsion=w,j.Util.inherits(b,j.Force),b.prototype.reset=function(e,t,n){b._super_.prototype.reset.call(this,0,-e,0,t,n)},j.Gravity=b,j.G=b,j.Util.inherits(x,j.Behaviour),x.prototype.reset=function(e,t,n,i,r){this.emitter=e,this.useMass=t,this.callback=n,this.particles=[],this.delta=new j.Vector3D,i&&x._super_.prototype.reset.call(this,i,r)},x.prototype.applyBehaviour=function(e,t,n){for(var i,r,o,s,a,l,u=this.emitter?this.emitter.particles.slice(n):this.particles.slice(n),c=u.length;c--;)(i=u[c])!=e&&(this.delta.copy(i.p).sub(e.p),r=this.delta.lengthSq(),s=e.radius+i.radius,r<=s*s&&(o=s-Math.sqrt(r),o+=.5,a=this._getAverageMass(e,i),l=this._getAverageMass(i,e),e.p.add(this.delta.clone().normalize().scalar(o*-a)),i.p.add(this.delta.normalize().scalar(o*l)),this.callback&&this.callback(e,i)))},x.prototype._getAverageMass=function(e,t){return this.useMass?t.mass/(e.mass+t.mass):.5},j.Collision=x,j.Util.inherits(T,j.Behaviour),T.prototype.reset=function(e,t,n,i){var r,o;"string"==typeof e?(o=e,r=t):(o=t,r=e),this.zone=r,this.zone.crossType=j.Util.initValue(o,"dead"),n&&T._super_.prototype.reset.call(this,n,i)},T.prototype.applyBehaviour=function(e,t,n){T._super_.prototype.applyBehaviour.call(this,e,t,n),this.zone.crossing.call(this.zone,e)},j.CrossZone=T,j.Util.inherits(E,j.Behaviour),E.prototype.reset=function(e,t,n,i){this._same=null==t||null==t,this.a=j.createSpan(j.Util.initValue(e,1)),this.b=j.createSpan(t),n&&E._super_.prototype.reset.call(this,n,i)},E.prototype.initialize=function(e){e.useAlpha=!0,e.transform.alphaA=this.a.getValue(),this._same?e.transform.alphaB=e.transform.alphaA:e.transform.alphaB=this.b.getValue()},E.prototype.applyBehaviour=function(e,t,n){E._super_.prototype.applyBehaviour.call(this,e,t,n),e.alpha=j.MathUtils.lerp(e.transform.alphaA,e.transform.alphaB,this.energy),e.alpha<.002&&(e.alpha=0)},j.Alpha=E,j.Util.inherits(y,j.Behaviour),y.prototype.reset=function(e,t,n,i){this._same=null==t||null==t,this.a=j.createSpan(j.Util.initValue(e,1)),this.b=j.createSpan(t),n&&y._super_.prototype.reset.call(this,n,i)},y.prototype.initialize=function(e){e.transform.scaleA=this.a.getValue(),e.transform.oldRadius=e.radius,this._same?e.transform.scaleB=e.transform.scaleA:e.transform.scaleB=this.b.getValue()},y.prototype.applyBehaviour=function(e,t,n){y._super_.prototype.applyBehaviour.call(this,e,t,n),e.scale=j.MathUtils.lerp(e.transform.scaleA,e.transform.scaleB,this.energy),e.scale<5e-4&&(e.scale=0),e.radius=e.transform.oldRadius*e.scale},j.Scale=y,j.Util.inherits(g,j.Behaviour),g.prototype.reset=function(e,t,n,i,r){this.a=e||0,this.b=t||0,this.c=n||0,void 0===e||"same"==e?this._type="same":null==t?this._type="set":void 0===n?this._type="to":(this._type="add",this.a=j.createSpan(this.a*j.DR),this.b=j.createSpan(this.b*j.DR),this.c=j.createSpan(this.c*j.DR)),i&&g._super_.prototype.reset.call(this,i,r)},g.prototype.initialize=function(e){switch(this._type){case"same":break;case"set":this._setRotation(e.rotation,this.a);break;case"to":e.transform.fR=e.transform.fR||new j.Vector3D,e.transform.tR=e.transform.tR||new j.Vector3D,this._setRotation(e.transform.fR,this.a),this._setRotation(e.transform.tR,this.b);break;case"add":e.transform.addR=new j.Vector3D(this.a.getValue(),this.b.getValue(),this.c.getValue())}},g.prototype._setRotation=function(e,t){if(e=e||new j.Vector3D,"random"==t){var n=j.MathUtils.randomAToB(-j.PI,j.PI),i=j.MathUtils.randomAToB(-j.PI,j.PI),r=j.MathUtils.randomAToB(-j.PI,j.PI);e.set(n,i,r)}else t instanceof j.Vector3D&&e.copy(t)},g.prototype.applyBehaviour=function(e,t,n){switch(g._super_.prototype.applyBehaviour.call(this,e,t,n),this._type){case"same":e.rotation||(e.rotation=new j.Vector3D),e.rotation.eulerFromDir(e.v);break;case"set":break;case"to":e.rotation.x=j.MathUtils.lerp(e.transform.fR.x,e.transform.tR.x,this.energy),e.rotation.y=j.MathUtils.lerp(e.transform.fR.y,e.transform.tR.y,this.energy),e.rotation.z=j.MathUtils.lerp(e.transform.fR.z,e.transform.tR.z,this.energy);break;case"add":e.rotation.add(e.transform.addR)}},j.Rotate=g,j.Util.inherits(v,j.Behaviour),v.prototype.reset=function(e,t,n,i){this._same=null==t||null==t,this.a=j.createArraySpan(e),this.b=j.createArraySpan(t),n&&v._super_.prototype.reset.call(this,n,i)},v.prototype.initialize=function(e){e.transform.colorA=j.ColorUtil.getRGB(this.a.getValue()),e.useColor=!0,this._same?e.transform.colorB=e.transform.colorA:e.transform.colorB=j.ColorUtil.getRGB(this.b.getValue())},v.prototype.applyBehaviour=function(e,t,n){v._super_.prototype.applyBehaviour.call(this,e,t,n),this._same?(e.color.r=e.transform.colorA.r,e.color.g=e.transform.colorA.g,e.color.b=e.transform.colorA.b):(e.color.r=j.MathUtils.lerp(e.transform.colorA.r,e.transform.colorB.r,this.energy),e.color.g=j.MathUtils.lerp(e.transform.colorA.g,e.transform.colorB.g,this.energy),e.color.b=j.MathUtils.lerp(e.transform.colorA.b,e.transform.colorB.b,this.energy))},j.Color=v,j.Util.inherits(m,j.Behaviour),m.prototype.reset=function(e,t,n,i,r){this.pos?this.pos.set(e,t,n):this.pos=new j.Vector3D(e,t,n),this.spring=i||.1,this.friction=r||.98},m.prototype.applyBehaviour=function(e,t,n){m._super_.prototype.applyBehaviour.call(this,e,t,n),e.v.x+=(this.pos.x-e.p.x)*this.spring,e.v.y+=(this.pos.y-e.p.y)*this.spring,e.v.z+=(this.pos.z-e.p.z)*this.spring},j.Spring=m,f.ID=0,j.Util.inherits(f,j.Particle),j.EventDispatcher.initialize(f.prototype),f.prototype.emit=function(e,t){this.currentEmitTime=0,this.totalEmitTimes=j.Util.initValue(e,1/0),1==t||"life"==t||"destroy"==t?this.life="once"==e?1:this.totalEmitTimes:isNaN(t)||(this.life=t),this.rate.init()},f.prototype.stopEmit=function(){this.totalEmitTimes=-1,this.currentEmitTime=0},f.prototype.removeAllParticles=function(){for(var e=this.particles.length;e--;)this.particles[e].dead=!0},f.prototype.createParticle=function(e,t){var n=this.parent.pool.get(j.Particle);return this.setupParticle(n,e,t),this.parent&&this.parent.dispatchEvent("PARTICLE_CREATED",n),j.bindEmtterEvent&&this.dispatchEvent("PARTICLE_CREATED",n),n},f.prototype.addSelfInitialize=function(e){e.init?e.init(this):this.initAll()},f.prototype.addInitialize=function(){for(var e=arguments.length;e--;)this.initializes.push(arguments[e])},f.prototype.removeInitialize=function(e){var t=this.initializes.indexOf(e);t>-1&&this.initializes.splice(t,1)},f.prototype.removeInitializers=function(){j.Util.destroyArray(this.initializes)},f.prototype.addBehaviour=function(){for(var e=arguments.length;e--;)this.behaviours.push(arguments[e])},f.prototype.removeBehaviour=function(e){var t=this.behaviours.indexOf(e);t>-1&&this.behaviours.splice(t,1)},f.prototype.removeAllBehaviours=function(){j.Util.destroyArray(this.behaviours)},f.prototype.integrate=function(e){var t=1-this.damping;j.integrator.integrate(this,e,t);for(var n=this.particles.length;n--;){var i=this.particles[n];i.update(e,n),j.integrator.integrate(i,e,t),this.parent&&this.parent.dispatchEvent("PARTICLE_UPDATE",i),j.bindEmtterEvent&&this.dispatchEvent("PARTICLE_UPDATE",i)}},f.prototype.emitting=function(e){if("once"==this.totalEmitTimes){var t=this.rate.getValue(99999);for(t>0&&(this.cID=t);t--;)this.createParticle();this.totalEmitTimes="none"}else if(!isNaN(this.totalEmitTimes)&&(this.currentEmitTime+=e,this.currentEmitTime<this.totalEmitTimes)){var t=this.rate.getValue(e);for(t>0&&(this.cID=t);t--;)this.createParticle()}},f.prototype.update=function(e){this.age+=e,(this.dead||this.age>=this.life)&&this.destroy(),this.emitting(e),this.integrate(e);for(var t,n=this.particles.length;n--;)(t=this.particles[n]).dead&&(this.parent&&this.parent.dispatchEvent("PARTICLE_DEAD",t),j.bindEmtterEvent&&this.dispatchEvent("PARTICLE_DEAD",t),this.parent.pool.expire(t.reset()),this.particles.splice(n,1))},f.prototype.setupParticle=function(e,t,n){var i=this.initializes,r=this.behaviours;t&&(i=j.Util.isArray(t)?t:[t]),n&&(r=j.Util.isArray(n)?n:[n]),j.InitializeUtil.initialize(this,e,i),e.addBehaviours(r),e.parent=this,this.particles.push(e)},f.prototype.destroy=function(){this.dead=!0,this.energy=0,this.totalEmitTimes=-1,0==this.particles.length&&(this.removeInitializers(),this.removeAllBehaviours(),this.parent&&this.parent.removeEmitter(this))},j.Emitter=f,j.Util.inherits(d,j.Emitter),d.prototype.addSelfBehaviour=function(){var e,t=arguments.length;for(e=0;e<t;e++)this.selfBehaviours.push(arguments[e])},d.prototype.removeSelfBehaviour=function(e){var t=this.selfBehaviours.indexOf(e);t>-1&&this.selfBehaviours.splice(t,1)},d.prototype.update=function(e){if(d._super_.prototype.update.call(this,e),!this.sleep){var t,n=this.selfBehaviours.length;for(t=0;t<n;t++)this.selfBehaviours[t].applyBehaviour(this,e,t)}},j.BehaviourEmitter=d,j.Util.inherits(p,j.Emitter),p.prototype.initEventHandler=function(){var e=this;this.mousemoveHandler=function(t){e.mousemove.call(e,t)},this.mousedownHandler=function(t){e.mousedown.call(e,t)},this.mouseupHandler=function(t){e.mouseup.call(e,t)},this.mouseTarget.addEventListener("mousemove",this.mousemoveHandler,!1)},p.prototype.emit=function(){this._allowEmitting=!0},p.prototype.stopEmit=function(){this._allowEmitting=!1},p.prototype.setCameraAndCanvas=function(e,t){this.camera=e,this.canvas=t},p.prototype.mousemove=function(e){e.layerX||0==e.layerX?(this.p.x+=(e.layerX-this.p.x)*this.ease,this.p.y+=(e.layerY-this.p.y)*this.ease):(e.offsetX||0==e.offsetX)&&(this.p.x+=(e.offsetX-this.p.x)*this.ease,this.p.y+=(e.offsetY-this.p.y)*this.ease),this.p.copy(j.THREEUtil.toSpacePos(this.p,this.camera,this.canvas)),this._allowEmitting&&p._super_.prototype.emit.call(this,"once")},p.prototype.destroy=function(){p._super_.prototype.destroy.call(this),this.mouseTarget.removeEventListener("mousemove",this.mousemoveHandler,!1)},j.FollowEmitter=p;var ee=ee||{easeLinear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInSine:function(e){return 1-Math.cos(e*(j.PI/2))},easeOutSine:function(e){return Math.sin(e*(j.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(j.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*((1+(t*=1.525))*e-t):.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},setEasingByName:function(e){return ee[e]?ee[e]:ee.easeLinear}};for(var te in ee)"setEasingByName"!=te&&(j[te]=ee[te]);j.ease=ee,h.prototype={init:function(e){var t=this;this.proton=e,this.proton.addEventListener("PROTON_UPDATE",function(e){t.onProtonUpdate.call(t,e)}),this.proton.addEventListener("PARTICLE_CREATED",function(e){t.onParticleCreated.call(t,e)}),this.proton.addEventListener("PARTICLE_UPDATE",function(e){t.onParticleUpdate.call(t,e)}),this.proton.addEventListener("PARTICLE_DEAD",function(e){t.onParticleDead.call(t,e)})},remove:function(e){this.proton=null},onParticleCreated:function(e){},onParticleUpdate:function(e){},onParticleDead:function(e){},onProtonUpdate:function(e){}},j.BaseRender=h,j.Util.inherits(c,j.BaseRender),c.prototype.onProtonUpdate=function(){},c.prototype.onParticleCreated=function(e){e.target||(e.body||(e.body=this._body),e.target=this._targetPool.get(e.body),(e.useAlpha||e.useColor)&&(e.target.material.__puid=j.PUID.id(e.body.material),e.target.material=this._materialPool.get(e.target.material))),e.target&&(e.target.position.copy(e.p),this.container.add(e.target))},c.prototype.onParticleUpdate=function(e){e.target&&(e.target.position.copy(e.p),e.target.rotation.set(e.rotation.x,e.rotation.y,e.rotation.z),this.scale(e),e.useAlpha&&(e.target.material.opacity=e.alpha,e.target.material.transparent=!0),e.useColor&&e.target.material.color.copy(e.color))},c.prototype.scale=function(e){e.target.scale.set(e.scale,e.scale,e.scale)},c.prototype.onParticleDead=function(e){e.target&&((e.useAlpha||e.useColor)&&this._materialPool.expire(e.target.material),this._targetPool.expire(e.target),this.container.remove(e.target),e.target=null)},j.MeshRender=c,j.Util.inherits(u,j.BaseRender),u.prototype.onProtonUpdate=function(){},u.prototype.onParticleCreated=function(e){e.target||(e.target=new THREE.Vector3),e.target.copy(e.p),this.points.geometry.vertices.push(e.target)},u.prototype.onParticleUpdate=function(e){e.target&&e.target.copy(e.p)},u.prototype.onParticleDead=function(e){if(e.target){var t=this.points.geometry.vertices.indexOf(e.target);t>-1&&this.points.geometry.vertices.splice(t,1),e.target=null}},j.PointsRender=u,j.Util.inherits(l,j.MeshRender),l.prototype.scale=function(e){e.target.scale.set(e.scale*e.radius,e.scale*e.radius,1)},j.SpriteRender=l,j.Util.inherits(a,j.BaseRender),a.prototype.onProtonUpdate=function(){},a.prototype.onParticleCreated=function(e){},a.prototype.onParticleUpdate=function(e){},a.prototype.onParticleDead=function(e){},j.CustomRender=a,s.prototype={getPosition:function(){return null},crossing:function(e){switch(this.crossType){case"bound":this._bound(e);break;case"cross":this._cross(e);break;case"dead":this._dead(e)}},_dead:function(e){},_bound:function(e){},_cross:function(e){}},j.Zone=s,j.Util.inherits(o,j.Zone),o.prototype.getPosition=function(){return this.random=Math.random(),this.vector.x=this.x1+this.random*(this.x2-this.x1),this.vector.y=this.y1+this.random*(this.y2-this.y1),this.vector.z=this.z1+this.random*(this.z2-this.z1),this.vector},o.prototype.crossing=function(e){this.log&&(console.error("Sorry LineZone does not support crossing method"),this.log=!1)},j.LineZone=o,j.Util.inherits(r,j.Zone),r.prototype.getPosition=function(){var e,t;return function(){return this.random=Math.random(),t=this.random*this.radius,tha=j.PI*Math.random(),e=2*j.PI*Math.random(),this.vector.x=this.x+t*Math.sin(tha)*Math.cos(e),this.vector.y=this.y+t*Math.sin(e)*Math.sin(tha),this.vector.z=this.z+t*Math.cos(tha),this.vector}}(),r.prototype._dead=function(e){var t=e.p.distanceTo(this);t-e.radius>this.radius&&(e.dead=!0)},r.prototype._bound=function(){var e,t=new j.Vector3D,n=new j.Vector3D;return function(i){var r=i.p.distanceTo(this);r+i.radius>=this.radius&&(t.copy(i.p).sub(this).normalize(),n.copy(i.v),e=2*n.dot(t),i.v.sub(t.scalar(e)))}}(),r.prototype._cross=function(e){this.log&&(console.error("Sorry SphereZone does not support _cross method"),this.log=!1)},j.SphereZone=r,j.Util.inherits(i,j.Zone),i.prototype.getPosition=function(){var e=this.geometry.vertices,t=e[e.length*Math.random()>>0];return this.vector.x=t.x*this.scale,this.vector.y=t.y*this.scale,this.vector.z=t.z*this.scale,this.vector},i.prototype.crossing=function(e){this.log&&(console.error("Sorry MeshZone does not support crossing method"),this.log=!1)},j.MeshZone=i,j.Util.inherits(n,j.Zone),n.prototype.getPosition=function(){return this.vector.x=this.x,this.vector.y=this.y,this.vector.z=this.z,this.vector},n.prototype.crossing=function(e){this.log&&(console.error("Sorry PointZone does not support crossing method"),this.log=!1)},j.PointZone=n,j.Util.inherits(t,j.Zone),t.prototype.getPosition=function(){return this.vector.x=this.x+j.MathUtils.randomAToB(-.5,.5)*this.width,this.vector.y=this.y+j.MathUtils.randomAToB(-.5,.5)*this.height,this.vector.z=this.z+j.MathUtils.randomAToB(-.5,.5)*this.depth,this.vector},t.prototype._dead=function(e){e.p.x+e.radius<this.x-this.width/2?e.dead=!0:e.p.x-e.radius>this.x+this.width/2&&(e.dead=!0),e.p.y+e.radius<this.y-this.height/2?e.dead=!0:e.p.y-e.radius>this.y+this.height/2&&(e.dead=!0),e.p.z+e.radius<this.z-this.depth/2?e.dead=!0:e.p.z-e.radius>this.z+this.depth/2&&(e.dead=!0)},t.prototype._bound=function(e){e.p.x-e.radius<this.x-this.width/2?(e.p.x=this.x-this.width/2+e.radius,e.v.x*=-this.friction,this._static(e,"x")):e.p.x+e.radius>this.x+this.width/2&&(e.p.x=this.x+this.width/2-e.radius,e.v.x*=-this.friction,this._static(e,"x")),e.p.y-e.radius<this.y-this.height/2?(e.p.y=this.y-this.height/2+e.radius,e.v.y*=-this.friction,this._static(e,"y")):e.p.y+e.radius>this.y+this.height/2&&(e.p.y=this.y+this.height/2-e.radius,e.v.y*=-this.friction,this._static(e,"y")),e.p.z-e.radius<this.z-this.depth/2?(e.p.z=this.z-this.depth/2+e.radius,e.v.z*=-this.friction,this._static(e,"z")):e.p.z+e.radius>this.z+this.depth/2&&(e.p.z=this.z+this.depth/2-e.radius,e.v.z*=-this.friction,this._static(e,"z"))},t.prototype._static=function(e,t){e.v[t]*e.a[t]>0||Math.abs(e.v[t])<.0167*Math.abs(e.a[t])*this.max&&(e.v[t]=0,e.a[t]=0)},t.prototype._cross=function(e){e.p.x+e.radius<this.x-this.width/2&&e.v.x<=0?e.p.x=this.x+this.width/2+e.radius:e.p.x-e.radius>this.x+this.width/2&&e.v.x>=0&&(e.p.x=this.x-this.width/2-e.radius),e.p.y+e.radius<this.y-this.height/2&&e.v.y<=0?e.p.y=this.y+this.height/2+e.radius:e.p.y-e.radius>this.y+this.height/2&&e.v.y>=0&&(e.p.y=this.y-this.height/2-e.radius),e.p.z+e.radius<this.z-this.depth/2&&e.v.z<=0?e.p.z=this.z+this.depth/2+e.radius:e.p.z-e.radius>this.z+this.depth/2&&e.v.z>=0&&(e.p.z=this.z-this.depth/2-e.radius)},j.BoxZone=t,j.Util.inherits(e,j.Zone),e.prototype.getPosition=function(){var e,t=new j.Vector3D;return function(){return e=this.renderer.domElement,t.x=Math.random()*e.width,t.y=Math.random()*e.height,this.vector.copy(j.THREEUtil.toSpacePos(t,this.camera,e)),this.vector}}(),e.prototype._dead=function(e){var t=j.THREEUtil.toScreenPos(e.p,this.camera,this.renderer.domElement),n=this.renderer.domElement;t.y+e.radius<-this.dis&&this.d1?e.dead=!0:t.y-e.radius>n.height+this.dis&&this.d3&&(e.dead=!0),t.x+e.radius<-this.dis&&this.d4?e.dead=!0:t.x-e.radius>n.width+this.dis&&this.d2&&(e.dead=!0)},e.prototype._cross=function(){var e=new j.Vector3D;return function(t){var n=j.THREEUtil.toScreenPos(t.p,this.camera,this.renderer.domElement),i=this.renderer.domElement;n.y+t.radius<-this.dis?(e.x=n.x,e.y=i.height+this.dis+t.radius,t.p.y=j.THREEUtil.toSpacePos(e,this.camera,i).y):n.y-t.radius>i.height+this.dis&&(e.x=n.x,e.y=-this.dis-t.radius,t.p.y=j.THREEUtil.toSpacePos(e,this.camera,i).y),n.x+t.radius<-this.dis?(e.y=n.y,e.x=i.width+this.dis+t.radius,t.p.x=j.THREEUtil.toSpacePos(e,this.camera,i).x):n.x-t.radius>i.width+this.dis&&(e.y=n.y,e.x=-this.dis-t.radius,t.p.x=j.THREEUtil.toSpacePos(e,this.camera,i).x)}}(),e.prototype._bound=function(e){var t=j.THREEUtil.toScreenPos(e.p,this.camera,this.renderer.domElement),n=this.renderer.domElement;t.y+e.radius<-this.dis?e.v.y*=-1:t.y-e.radius>n.height+this.dis&&(e.v.y*=-1),t.x+e.radius<-this.dis?e.v.y*=-1:t.x-e.radius>n.width+this.dis&&(e.v.y*=-1)},j.ScreenZone=e;var ne=function(){if(window.console&&window.console.trace){var e=Array.prototype.slice.call(arguments),t=arguments[0]+"";if(0==t.indexOf("+")){var n=parseInt(arguments[0]);ne.once<n&&(e.shift(),console.trace.apply(console,e),ne.once++)}else e.unshift("+15"),ne.apply(console,e)}};ne.once=0,j.log=ne;var ie=ie||{addEventListener:function(e,t){e.addEventListener("PROTON_UPDATE",function(e){t(e)})},drawZone:function(e,t,n){var i,r,o;n instanceof j.PointZone?i=new THREE.SphereGeometry(15):n instanceof j.LineZone||(n instanceof j.BoxZone?i=new THREE.BoxGeometry(n.width,n.height,n.depth):n instanceof j.SphereZone?i=new THREE.SphereGeometry(n.radius,10,10):n instanceof j.MeshZone&&(i=n.geometry instanceof THREE.Geometry?n.geometry:n.geometry.geometry,i=new THREE.SphereGeometry(n.radius,10,10))),r=new THREE.MeshBasicMaterial({color:"#2194ce",wireframe:!0}),o=new THREE.Mesh(i,r),t.add(o),this.addEventListener(e,function(e){o.position.set(n.x,n.y,n.z)})},drawEmitter:function(e,t,n,i){var r=new THREE.OctahedronGeometry(15),o=new THREE.MeshBasicMaterial({color:i||"#aaa",wireframe:!0}),s=new THREE.Mesh(r,o);t.add(s),this.addEventListener(e,function(){s.position.copy(n.p),s.rotation.set(n.rotation.x,n.rotation.y,n.rotation.z)})},renderInfo:function(){function e(e){var t="material"==e?"_materialPool":"_targetPool",n=proton.renderers[0];return n[t].cID}return function(t,n){this.addInfo(n);var i="";switch(this._infoType){case 2:i+="emitter:"+t.emitters.length+"<br>",i+="em speed:"+t.emitters[0].cID+"<br>",i+="pos:"+function(e){var t=e.emitters[0];return Math.round(t.p.x)+","+Math.round(t.p.y)+","+Math.round(t.p.z)}(t);break;case 3:i+=t.renderers[0].name+"<br>",i+="target:"+e("target")+"<br>",i+="material:"+e("material");break;default:i+="particles:"+t.getCount()+"<br>",i+="pool:"+t.pool.getCount()+"<br>",i+="total:"+(t.getCount()+t.pool.getCount())}this._infoCon.innerHTML=i}}(),addInfo:function(e){var t=this;if(!this._infoCon){var n,i;switch(this._infoCon=document.createElement("div"),this._infoCon.style.cssText=["position:fixed;bottom:0px;left:0;cursor:pointer;","opacity:0.9;z-index:10000;padding:10px;font-size:12px;","width:120px;height:50px;background-color:#002;color:#0ff;"].join(""),this._infoType=1,this._infoCon.addEventListener("click",function(e){t._infoType++,t._infoType>3&&(t._infoType=1)},!1),e){case 2:n="#201",i="#f08";break;case 3:n="#020",i="#0f0";break;default:n="#002",i="#0ff"}this._infoCon.style["background-color"]=n,this._infoCon.style.color=i}this._infoCon.parentNode||document.body.appendChild(this._infoCon)}};return j.Debug=ie,j})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){var i=function(){function e(e){return r.appendChild(e.dom),e}function t(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";n=e}var n=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",function(e){e.preventDefault(),t(++n%r.children.length)},!1);var o=(performance||Date).now(),s=o,a=0,l=e(new i.Panel("FPS","#0ff","#002")),u=e(new i.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=e(new i.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:r,addPanel:e,showPanel:t,begin:function(){o=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(u.update(e-o,200),e>s+1e3&&(l.update(1e3*a/(e-s),100),s=e,a=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:r,setMode:t}};i.Panel=function(e,t,n){var i=1/0,r=0,o=Math.round,s=o(window.devicePixelRatio||1),a=80*s,l=48*s,u=3*s,c=2*s,h=3*s,p=15*s,d=74*s,f=30*s,m=document.createElement("canvas");m.width=a,m.height=l,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*s+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,a,l),v.fillStyle=t,v.fillText(e,u,c),v.fillRect(h,p,d,f),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(h,p,d,f),{dom:m,update:function(l,g){i=Math.min(i,l),r=Math.max(r,l),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,a,p),v.fillStyle=t,v.fillText(o(l)+" "+e+" ("+o(i)+"-"+o(r)+")",u,c),v.drawImage(m,h+s,p,d-s,f,h,p,d-s,f),v.fillRect(h+d-s,p,s,f),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(h+d-s,p,s,o((1-l/g)*f))}}},e.exports=i},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,u=[],c=!1,h=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&d())}function d(){if(!c){var e=a(p);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||c||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){THREE.GLTFLoader=function(){function e(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.dracoLoader=null}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype={constructor:e,crossOrigin:"anonymous",load:function(e,t,n,i){var r,o=this;r=void 0!==this.resourcePath?this.resourcePath:void 0!==this.path?this.path:THREE.LoaderUtils.extractUrlBase(e),o.manager.itemStart(e);var s=function(t){i?i(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},a=new THREE.FileLoader(o.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.load(e,function(n){try{o.parse(n,r,function(n){t(n),o.manager.itemEnd(e)},s)}catch(e){s(e)}},n,s)},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setDRACOLoader:function(e){return this.dracoLoader=e,this},parse:function(e,t,a,l){var d,f={};if("string"==typeof e)d=e;else if(THREE.LoaderUtils.decodeText(new Uint8Array(e,0,4))===s){try{f[n.KHR_BINARY_GLTF]=new u(e)}catch(e){return void(l&&l(e))}d=f[n.KHR_BINARY_GLTF].content}else d=THREE.LoaderUtils.decodeText(new Uint8Array(e));var m=JSON.parse(d);if(void 0===m.asset||m.asset.version[0]<2)l&&l(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(m.extensionsUsed)for(var v=0;v<m.extensionsUsed.length;++v){var g=m.extensionsUsed[v],y=m.extensionsRequired||[];switch(g){case n.KHR_LIGHTS_PUNCTUAL:f[g]=new r(m);break;case n.KHR_MATERIALS_UNLIT:f[g]=new o(m);break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:f[g]=new p(m);break;case n.KHR_DRACO_MESH_COMPRESSION:f[g]=new c(m,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:f[n.MSFT_TEXTURE_DDS]=new i(m);break;case n.KHR_TEXTURE_TRANSFORM:f[n.KHR_TEXTURE_TRANSFORM]=new h(m);break;default:y.indexOf(g)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+g+'".')}}var E=new k(m,f,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager});E.parse(function(e,t,n,i,r){var o={scene:e,scenes:t,cameras:n,animations:i,asset:r.asset,parser:E,userData:{}};L(f,o,r),a(o)},l)}}};var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function i(){if(!THREE.DDSLoader)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=new THREE.DDSLoader}function r(e){this.name=n.KHR_LIGHTS_PUNCTUAL;var t=e.extensions&&e.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=t.lights||[]}function o(e){this.name=n.KHR_MATERIALS_UNLIT}r.prototype.loadLight=function(e){var t,n=this.lightDefs[e],i=new THREE.Color(16777215);void 0!==n.color&&i.fromArray(n.color);var r=void 0!==n.range?n.range:0;switch(n.type){case"directional":(t=new THREE.DirectionalLight(i)).target.position.set(0,0,-1),t.add(t.target);break;case"point":(t=new THREE.PointLight(i)).distance=r;break;case"spot":(t=new THREE.SpotLight(i)).distance=r,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,t.angle=n.spot.outerConeAngle,t.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,t.target.position.set(0,0,-1),t.add(t.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return t.decay=2,void 0!==n.intensity&&(t.intensity=n.intensity),t.name=n.name||"light_"+e,Promise.resolve(t)},o.prototype.getMaterialType=function(e){return THREE.MeshBasicMaterial},o.prototype.extendParams=function(e,t,n){var i=[];e.color=new THREE.Color(1,1,1),e.opacity=1;var r=t.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){var o=r.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==r.baseColorTexture&&i.push(n.assignTexture(e,"map",r.baseColorTexture))}return Promise.all(i)};var s="glTF",a=12,l={JSON:1313821514,BIN:5130562};function u(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,a);if(this.header={magic:THREE.LoaderUtils.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==s)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var i=new DataView(e,a),r=0;r<i.byteLength;){var o=i.getUint32(r,!0);r+=4;var u=i.getUint32(r,!0);if(r+=4,u===l.JSON){var c=new Uint8Array(e,a+r,o);this.content=THREE.LoaderUtils.decodeText(c)}else if(u===l.BIN){var h=a+r;this.body=e.slice(h,h+o)}r+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function c(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,THREE.DRACOLoader.getDecoderModule()}function h(e){this.name=n.KHR_TEXTURE_TRANSFORM}function p(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return THREE.ShaderMaterial},extendParams:function(e,t,n){var i=t.extensions[this.name],r=THREE.ShaderLib.standard,o=THREE.UniformsUtils.clone(r.uniforms),s=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),a=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),l=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),c=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),h=r.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",s).replace("#include <metalnessmap_pars_fragment>",a).replace("#include <roughnessmap_fragment>",l).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",c);delete o.roughness,delete o.metalness,delete o.roughnessMap,delete o.metalnessMap,o.specular={value:(new THREE.Color).setHex(1118481)},o.glossiness={value:.5},o.specularMap={value:null},o.glossinessMap={value:null},e.vertexShader=r.vertexShader,e.fragmentShader=h,e.uniforms=o,e.defines={STANDARD:""},e.color=new THREE.Color(1,1,1),e.opacity=1;var p=[];if(Array.isArray(i.diffuseFactor)){var d=i.diffuseFactor;e.color.fromArray(d),e.opacity=d[3]}if(void 0!==i.diffuseTexture&&p.push(n.assignTexture(e,"map",i.diffuseTexture)),e.emissive=new THREE.Color(0,0,0),e.glossiness=void 0!==i.glossinessFactor?i.glossinessFactor:1,e.specular=new THREE.Color(1,1,1),Array.isArray(i.specularFactor)&&e.specular.fromArray(i.specularFactor),void 0!==i.specularGlossinessTexture){var f=i.specularGlossinessTexture;p.push(n.assignTexture(e,"glossinessMap",f)),p.push(n.assignTexture(e,"specularMap",f))}return Promise.all(p)},createMaterial:function(e){var t=new THREE.ShaderMaterial({defines:e.defines,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,fog:!0,lights:!0,opacity:e.opacity,transparent:e.transparent});return t.isGLTFSpecularGlossinessMaterial=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t.extensions.derivatives=!0,t},cloneMaterial:function(e){var t=e.clone();t.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,i=0,r=n.length;i<r;i++)t[n[i]]=e[n[i]];return t},refreshUniforms:function(e,t,n,i,r,o){if(!0===r.isGLTFSpecularGlossinessMaterial){var s,a=r.uniforms,l=r.defines;a.opacity.value=r.opacity,a.diffuse.value.copy(r.color),a.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),a.map.value=r.map,a.specularMap.value=r.specularMap,a.alphaMap.value=r.alphaMap,a.lightMap.value=r.lightMap,a.lightMapIntensity.value=r.lightMapIntensity,a.aoMap.value=r.aoMap,a.aoMapIntensity.value=r.aoMapIntensity,r.map?s=r.map:r.specularMap?s=r.specularMap:r.displacementMap?s=r.displacementMap:r.normalMap?s=r.normalMap:r.bumpMap?s=r.bumpMap:r.glossinessMap?s=r.glossinessMap:r.alphaMap?s=r.alphaMap:r.emissiveMap&&(s=r.emissiveMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),a.uvTransform.value.copy(s.matrix)),r.envMap&&(a.envMap.value=r.envMap,a.envMapIntensity.value=r.envMapIntensity,a.flipEnvMap.value=r.envMap.isCubeTexture?-1:1,a.reflectivity.value=r.reflectivity,a.refractionRatio.value=r.refractionRatio,a.maxMipLevel.value=e.properties.get(r.envMap).__maxMipLevel),a.specular.value.copy(r.specular),a.glossiness.value=r.glossiness,a.glossinessMap.value=r.glossinessMap,a.emissiveMap.value=r.emissiveMap,a.bumpMap.value=r.bumpMap,a.normalMap.value=r.normalMap,a.displacementMap.value=r.displacementMap,a.displacementScale.value=r.displacementScale,a.displacementBias.value=r.displacementBias,null!==a.glossinessMap.value&&void 0===l.USE_GLOSSINESSMAP&&(l.USE_GLOSSINESSMAP="",l.USE_ROUGHNESSMAP=""),null===a.glossinessMap.value&&void 0!==l.USE_GLOSSINESSMAP&&(delete l.USE_GLOSSINESSMAP,delete l.USE_ROUGHNESSMAP)}}}}function d(e,t,n,i){THREE.Interpolant.call(this,e,t,n,i)}c.prototype.decodePrimitive=function(e,t){var n=this.json,i=this.dracoLoader,r=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,s={},a={},l={};for(var u in o)u in S&&(s[S[u]]=o[u]);for(u in e.attributes)if(void 0!==S[u]&&void 0!==o[u]){var c=n.accessors[e.attributes[u]],h=x[c.componentType];l[S[u]]=h,a[S[u]]=!0===c.normalized}return t.getDependency("bufferView",r).then(function(e){return new Promise(function(t){i.decodeDracoFile(e,function(e){for(var n in e.attributes){var i=e.attributes[n],r=a[n];void 0!==r&&(i.normalized=r)}t(e)},s,l)})})},h.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},d.prototype=Object.create(THREE.Interpolant.prototype),d.prototype.constructor=d,d.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i*3+i,o=0;o!==i;o++)t[o]=n[r+o];return t},d.prototype.beforeStart_=d.prototype.copySampleValue_,d.prototype.afterEnd_=d.prototype.copySampleValue_,d.prototype.interpolate_=function(e,t,n,i){for(var r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=2*s,l=3*s,u=i-t,c=(n-t)/u,h=c*c,p=h*c,d=e*l,f=d-l,m=-2*p+3*h,v=p-h,g=1-m,y=v-h+c,E=0;E!==s;E++){var T=o[f+E+s],x=o[f+E+a]*u,b=o[d+E+s],w=o[d+E]*u;r[E]=g*T+y*x+m*b+v*w}return r};var f=0,m=1,v=2,g=3,y=4,E=5,T=6,x=(Number,THREE.Matrix3,THREE.Matrix4,THREE.Vector2,THREE.Vector3,THREE.Vector4,THREE.Texture,{5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array}),b={9728:THREE.NearestFilter,9729:THREE.LinearFilter,9984:THREE.NearestMipMapNearestFilter,9985:THREE.LinearMipMapNearestFilter,9986:THREE.NearestMipMapLinearFilter,9987:THREE.LinearMipMapLinearFilter},w={33071:THREE.ClampToEdgeWrapping,33648:THREE.MirroredRepeatWrapping,10497:THREE.RepeatWrapping},R=(THREE.BackSide,THREE.FrontSide,THREE.NeverDepth,THREE.LessDepth,THREE.EqualDepth,THREE.LessEqualDepth,THREE.GreaterEqualDepth,THREE.NotEqualDepth,THREE.GreaterEqualDepth,THREE.AlwaysDepth,THREE.AddEquation,THREE.SubtractEquation,THREE.ReverseSubtractEquation,THREE.ZeroFactor,THREE.OneFactor,THREE.SrcColorFactor,THREE.OneMinusSrcColorFactor,THREE.SrcAlphaFactor,THREE.OneMinusSrcAlphaFactor,THREE.DstAlphaFactor,THREE.OneMinusDstAlphaFactor,THREE.DstColorFactor,THREE.OneMinusDstColorFactor,THREE.SrcAlphaSaturateFactor,{SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16}),S={POSITION:"position",NORMAL:"normal",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},M={CUBICSPLINE:THREE.InterpolateSmooth,LINEAR:THREE.InterpolateLinear,STEP:THREE.InterpolateDiscrete},H="OPAQUE",A="MASK",P="BLEND",C={"image/png":THREE.RGBAFormat,"image/jpeg":THREE.RGBFormat};function D(e,t){return"string"!=typeof e||""===e?"":/^(https?:)?\/\//i.test(e)?e:/^data:.*,.*$/i.test(e)?e:/^blob:.*$/i.test(e)?e:t+e}function L(e,t,n){for(var i in n.extensions)void 0===e[i]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[i]=n.extensions[i])}function I(e,t){void 0!==t.extras&&("object"==typeof t.extras?e.userData=t.extras:console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function O(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,i=t.weights.length;n<i;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var r=t.extras.targetNames;if(e.morphTargetInfluences.length===r.length){e.morphTargetDictionary={};for(n=0,i=r.length;n<i;n++)e.morphTargetDictionary[r[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function U(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function N(e,t){if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function z(e,t){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(s=o.primitive,a=t,l=void 0,u=void 0,l=s.extensions?s.extensions[n.KHR_DRACO_MESH_COMPRESSION]:void 0,u=a.extensions?a.extensions[n.KHR_DRACO_MESH_COMPRESSION]:void 0,l&&u?l.bufferView===u.bufferView&&U(l.attributes,u.attributes):s.indices===a.indices&&U(s.attributes,a.attributes))return o.promise}var s,a,l,u;return null}function B(e){if(e.isInterleavedBufferAttribute){for(var t=e.count,n=e.itemSize,i=e.array.slice(0,t*n),r=0;r<t;++r)i[r]=e.getX(r),n>=2&&(i[r+1]=e.getY(r)),n>=3&&(i[r+2]=e.getZ(r)),n>=4&&(i[r+3]=e.getW(r));return new THREE.BufferAttribute(i,n,e.normalized)}return e.clone()}function k(e,n,i){this.json=e||{},this.extensions=n||{},this.options=i||{},this.cache=new t,this.primitiveCache=[],this.multiplePrimitivesCache=[],this.multiPassGeometryCache=[],this.textureLoader=new THREE.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new THREE.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer")}function F(e,t,n){var i=t.attributes,r=[];function o(t,i){return n.getDependency("accessor",t).then(function(t){e.addAttribute(i,t)})}for(var s in i){var a=S[s];a&&(a in e.attributes||r.push(o(i[s],a)))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then(function(t){e.setIndex(t)});r.push(l)}return I(e,t),Promise.all(r).then(function(){return void 0!==t.targets?function(e,t,n){for(var i=!1,r=!1,o=0,s=t.length;o<s&&(void 0!==(u=t[o]).POSITION&&(i=!0),void 0!==u.NORMAL&&(r=!0),!i||!r);o++);if(!i&&!r)return Promise.resolve(e);var a=[],l=[];for(o=0,s=t.length;o<s;o++){var u=t[o];if(i){var c=void 0!==u.POSITION?n.getDependency("accessor",u.POSITION).then(function(e){return B(e)}):e.attributes.position;a.push(c)}r&&(c=void 0!==u.NORMAL?n.getDependency("accessor",u.NORMAL).then(function(e){return B(e)}):e.attributes.normal,l.push(c))}return Promise.all([Promise.all(a),Promise.all(l)]).then(function(n){for(var o=n[0],s=n[1],a=0,l=t.length;a<l;a++){var u=t[a],c="morphTarget"+a;if(i&&void 0!==u.POSITION){var h=o[a];h.name=c;for(var p=e.attributes.position,d=0,f=h.count;d<f;d++)h.setXYZ(d,h.getX(d)+p.getX(d),h.getY(d)+p.getY(d),h.getZ(d)+p.getZ(d))}if(r&&void 0!==u.NORMAL){var m=s[a];m.name=c;var v=e.attributes.normal;for(d=0,f=m.count;d<f;d++)m.setXYZ(d,m.getX(d)+v.getX(d),m.getY(d)+v.getY(d),m.getZ(d)+v.getZ(d))}}return i&&(e.morphAttributes.position=o),r&&(e.morphAttributes.normal=s),e})}(e,t.targets,n):e})}return k.prototype.parse=function(e,t){var n=this.json;this.cache.removeAll(),this.markDefs(),this.getMultiDependencies(["scene","animation","camera"]).then(function(t){var i=t.scenes||[],r=i[n.scene||0],o=t.animations||[],s=t.cameras||[];e(r,i,s,o,n)}).catch(t)},k.prototype.markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],i={},r={},o=0,s=t.length;o<s;o++)for(var a=t[o].joints,l=0,u=a.length;l<u;l++)e[a[l]].isBone=!0;for(var c=0,h=e.length;c<h;c++){var p=e[c];void 0!==p.mesh&&(void 0===i[p.mesh]&&(i[p.mesh]=r[p.mesh]=0),i[p.mesh]++,void 0!==p.skin&&(n[p.mesh].isSkinnedMesh=!0))}this.json.meshReferences=i,this.json.meshUses=r},k.prototype.getDependency=function(e,t){var i=e+":"+t,r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this.loadMesh(t);break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this.loadBufferView(t);break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this.loadMaterial(t);break;case"texture":r=this.loadTexture(t);break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;case"light":r=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(i,r)}return r},k.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,i=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(i.map(function(t,i){return n.getDependency(e,i)})),this.cache.add(e,t)}return t},k.prototype.getMultiDependencies=function(e){for(var t={},n=[],i=0,r=e.length;i<r;i++){var o=e[i],s=this.getDependencies(o);s=s.then(function(e,n){t[e]=n}.bind(this,o+("mesh"===o?"es":"s"))),n.push(s)}return Promise.all(n).then(function(){return t})},k.prototype.loadBuffer=function(e){var t=this.json.buffers[e],i=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise(function(e,n){i.load(D(t.uri,r.path),e,void 0,function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})},k.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(e){var n=t.byteLength||0,i=t.byteOffset||0;return e.slice(i,i+n)})},k.prototype.loadAccessor=function(e){var t=this,n=this.json,i=this.json.accessors[e];if(void 0===i.bufferView&&void 0===i.sparse)return Promise.resolve(null);var r=[];return void 0!==i.bufferView?r.push(this.getDependency("bufferView",i.bufferView)):r.push(null),void 0!==i.sparse&&(r.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(r).then(function(e){var r,o,s=e[0],a=R[i.type],l=x[i.componentType],u=l.BYTES_PER_ELEMENT,c=u*a,h=i.byteOffset||0,p=void 0!==i.bufferView?n.bufferViews[i.bufferView].byteStride:void 0,d=!0===i.normalized;if(p&&p!==c){var f="InterleavedBuffer:"+i.bufferView+":"+i.componentType,m=t.cache.get(f);m||(r=new l(s),m=new THREE.InterleavedBuffer(r,p/u),t.cache.add(f,m)),o=new THREE.InterleavedBufferAttribute(m,a,h/u,d)}else r=null===s?new l(i.count*a):new l(s,h,i.count*a),o=new THREE.BufferAttribute(r,a,d);if(void 0!==i.sparse){var v=R.SCALAR,g=x[i.sparse.indices.componentType],y=i.sparse.indices.byteOffset||0,E=i.sparse.values.byteOffset||0,T=new g(e[1],y,i.sparse.count*v),b=new l(e[2],E,i.sparse.count*a);null!==s&&o.setArray(o.array.slice());for(var w=0,S=T.length;w<S;w++){var _=T[w];if(o.setX(_,b[w*a]),a>=2&&o.setY(_,b[w*a+1]),a>=3&&o.setZ(_,b[w*a+2]),a>=4&&o.setW(_,b[w*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return o})},k.prototype.loadTexture=function(e){var t,i=this,r=this.json,o=this.options,s=this.textureLoader,a=window.URL||window.webkitURL,l=r.textures[e],u=l.extensions||{},c=(t=u[n.MSFT_TEXTURE_DDS]?r.images[u[n.MSFT_TEXTURE_DDS].source]:r.images[l.source]).uri,h=!1;return void 0!==t.bufferView&&(c=i.getDependency("bufferView",t.bufferView).then(function(e){h=!0;var n=new Blob([e],{type:t.mimeType});return c=a.createObjectURL(n)})),Promise.resolve(c).then(function(e){var t=THREE.Loader.Handlers.get(e);return t||(t=u[n.MSFT_TEXTURE_DDS]?i.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise(function(n,i){t.load(D(e,o.path),n,void 0,i)})}).then(function(e){!0===h&&a.revokeObjectURL(c),e.flipY=!1,void 0!==l.name&&(e.name=l.name),t.mimeType in C&&(e.format=C[t.mimeType]);var n=(r.samplers||{})[l.sampler]||{};return e.magFilter=b[n.magFilter]||THREE.LinearFilter,e.minFilter=b[n.minFilter]||THREE.LinearMipMapLinearFilter,e.wrapS=w[n.wrapS]||THREE.RepeatWrapping,e.wrapT=w[n.wrapT]||THREE.RepeatWrapping,e})},k.prototype.assignTexture=function(e,t,i){var r=this;return this.getDependency("texture",i.index).then(function(o){if(r.extensions[n.KHR_TEXTURE_TRANSFORM]){var s=void 0!==i.extensions?i.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;s&&(o=r.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(o,s))}e[t]=o})},k.prototype.loadMaterial=function(e){var t,i=this.json,r=this.extensions,o=i.materials[e],s={},a=o.extensions||{},l=[];if(a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=r[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(o),l.push(u.extendParams(s,o,this))}else if(a[n.KHR_MATERIALS_UNLIT]){var c=r[n.KHR_MATERIALS_UNLIT];t=c.getMaterialType(o),l.push(c.extendParams(s,o,this))}else{t=THREE.MeshStandardMaterial;var h=o.pbrMetallicRoughness||{};if(s.color=new THREE.Color(1,1,1),s.opacity=1,Array.isArray(h.baseColorFactor)){var p=h.baseColorFactor;s.color.fromArray(p),s.opacity=p[3]}void 0!==h.baseColorTexture&&l.push(this.assignTexture(s,"map",h.baseColorTexture)),s.metalness=void 0!==h.metallicFactor?h.metallicFactor:1,s.roughness=void 0!==h.roughnessFactor?h.roughnessFactor:1,void 0!==h.metallicRoughnessTexture&&(l.push(this.assignTexture(s,"metalnessMap",h.metallicRoughnessTexture)),l.push(this.assignTexture(s,"roughnessMap",h.metallicRoughnessTexture)))}!0===o.doubleSided&&(s.side=THREE.DoubleSide);var d=o.alphaMode||H;return d===P?s.transparent=!0:(s.transparent=!1,d===A&&(s.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&t!==THREE.MeshBasicMaterial&&(l.push(this.assignTexture(s,"normalMap",o.normalTexture)),s.normalScale=new THREE.Vector2(1,1),void 0!==o.normalTexture.scale&&s.normalScale.set(o.normalTexture.scale,o.normalTexture.scale)),void 0!==o.occlusionTexture&&t!==THREE.MeshBasicMaterial&&(l.push(this.assignTexture(s,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(s.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&t!==THREE.MeshBasicMaterial&&(s.emissive=(new THREE.Color).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&t!==THREE.MeshBasicMaterial&&l.push(this.assignTexture(s,"emissiveMap",o.emissiveTexture)),Promise.all(l).then(function(){var e;return e=t===THREE.ShaderMaterial?r[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),void 0!==o.name&&(e.name=o.name),e.normalScale&&(e.normalScale.y=-e.normalScale.y),e.map&&(e.map.encoding=THREE.sRGBEncoding),e.emissiveMap&&(e.emissiveMap.encoding=THREE.sRGBEncoding),e.specularMap&&(e.specularMap.encoding=THREE.sRGBEncoding),I(e,o),o.extensions&&L(r,e,o),e})},k.prototype.loadGeometries=function(e){var t,i=this,r=this.extensions,o=this.primitiveCache,s=function(e){if(e.length<2)return!1;var t=e[0],i=t.targets||[];if(void 0===t.indices)return!1;for(var r=1,o=e.length;r<o;r++){var s=e[r];if(t.mode!==s.mode)return!1;if(void 0===s.indices)return!1;if(s.extensions&&s.extensions[n.KHR_DRACO_MESH_COMPRESSION])return!1;if(!U(t.attributes,s.attributes))return!1;var a=s.targets||[];if(i.length!==a.length)return!1;for(var l=0,u=i.length;l<u;l++)if(!U(i[l],a[l]))return!1}return!0}(e);function a(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,i).then(function(t){return F(t,e,i)})}s&&(t=e,e=[e[0]]);for(var l=[],u=0,c=e.length;u<c;u++){var h,p=e[u],d=z(o,p);if(d)l.push(d);else h=p.extensions&&p.extensions[n.KHR_DRACO_MESH_COMPRESSION]?a(p):F(new THREE.BufferGeometry,p,i),o.push({primitive:p,promise:h}),l.push(h)}return Promise.all(l).then(function(n){if(s){var r=n[0];if(null!==(p=function(e,t,n){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(t===o.baseGeometry&&N(n,o.primitives))return o.geometry}return null}(h=i.multiPassGeometryCache,r,t)))return[p.geometry];var o=new THREE.BufferGeometry;for(var a in o.name=r.name,o.userData=r.userData,r.attributes)o.addAttribute(a,r.attributes[a]);for(var a in r.morphAttributes)o.morphAttributes[a]=r.morphAttributes[a];for(var l=[],u=0,c=t.length;u<c;u++)l.push(i.getDependency("accessor",t[u].indices));return Promise.all(l).then(function(e){for(var n=[],i=0,s=0,a=t.length;s<a;s++){for(var l=e[s],u=0,c=l.count;u<c;u++)n.push(l.array[u]);o.addGroup(i,l.count,s),i+=l.count}return o.setIndex(n),h.push({geometry:o,baseGeometry:r,primitives:t}),[o]})}if(n.length>1&&void 0!==THREE.BufferGeometryUtils){for(u=1,c=e.length;u<c;u++)if(e[0].mode!==e[u].mode)return n;var h,p;if(p=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(N(t,r.baseGeometries))return r.geometry}return null}(h=i.multiplePrimitivesCache,n)){if(null!==p.geometry)return[p.geometry]}else{o=THREE.BufferGeometryUtils.mergeBufferGeometries(n,!0);if(h.push({geometry:o,baseGeometries:n}),null!==o)return[o]}}return n})},k.prototype.loadMesh=function(e){for(var t=this,i=this.json,r=this.extensions,o=i.meshes[e],s=o.primitives,a=[],l=0,u=s.length;l<u;l++){var c=void 0===s[l].material?new THREE.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:THREE.FrontSide}):this.getDependency("material",s[l].material);a.push(c)}return Promise.all(a).then(function(i){return t.loadGeometries(s).then(function(a){for(var l=1===a.length&&a[0].groups.length>0,u=[],c=0,h=a.length;c<h;c++){var p,d=a[c],x=s[c],b=l?i:i[c];if(x.mode===y||x.mode===E||x.mode===T||void 0===x.mode)!0===(p=!0===o.isSkinnedMesh?new THREE.SkinnedMesh(d,b):new THREE.Mesh(d,b)).isSkinnedMesh&&p.normalizeSkinWeights(),x.mode===E?p.drawMode=THREE.TriangleStripDrawMode:x.mode===T&&(p.drawMode=THREE.TriangleFanDrawMode);else if(x.mode===m)p=new THREE.LineSegments(d,b);else if(x.mode===g)p=new THREE.Line(d,b);else if(x.mode===v)p=new THREE.LineLoop(d,b);else{if(x.mode!==f)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+x.mode);p=new THREE.Points(d,b)}Object.keys(p.geometry.morphAttributes).length>0&&O(p,o),p.name=o.name||"mesh_"+e,a.length>1&&(p.name+="_"+c),I(p,o),u.push(p);for(var w=l?p.material:[p.material],R=void 0!==d.attributes.color,S=void 0===d.attributes.normal,_=!0===p.isSkinnedMesh,M=Object.keys(d.morphAttributes).length>0,H=M&&void 0!==d.morphAttributes.normal,A=0,P=w.length;A<P;A++){b=w[A];if(p.isPoints){var C="PointsMaterial:"+b.uuid,D=t.cache.get(C);D||(D=new THREE.PointsMaterial,THREE.Material.prototype.copy.call(D,b),D.color.copy(b.color),D.map=b.map,D.lights=!1,t.cache.add(C,D)),b=D}else if(p.isLine){C="LineBasicMaterial:"+b.uuid;var L=t.cache.get(C);L||(L=new THREE.LineBasicMaterial,THREE.Material.prototype.copy.call(L,b),L.color.copy(b.color),L.lights=!1,t.cache.add(C,L)),b=L}if(R||S||_||M){C="ClonedMaterial:"+b.uuid+":";b.isGLTFSpecularGlossinessMaterial&&(C+="specular-glossiness:"),_&&(C+="skinning:"),R&&(C+="vertex-colors:"),S&&(C+="flat-shading:"),M&&(C+="morph-targets:"),H&&(C+="morph-normals:");var U=t.cache.get(C);U||(U=b.isGLTFSpecularGlossinessMaterial?r[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(b):b.clone(),_&&(U.skinning=!0),R&&(U.vertexColors=THREE.VertexColors),S&&(U.flatShading=!0),M&&(U.morphTargets=!0),H&&(U.morphNormals=!0),t.cache.add(C,U)),b=U}w[A]=b,b.aoMap&&void 0===d.attributes.uv2&&void 0!==d.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),d.addAttribute("uv2",new THREE.BufferAttribute(d.attributes.uv.array,2))),b.isGLTFSpecularGlossinessMaterial&&(p.onBeforeRender=r[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms)}p.material=l?w:w[0]}if(1===u.length)return u[0];var N=new THREE.Group;for(c=0,h=u.length;c<h;c++)N.add(u[c]);return N})})},k.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],i=n[n.type];if(i)return"perspective"===n.type?t=new THREE.PerspectiveCamera(THREE.Math.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):"orthographic"===n.type&&(t=new THREE.OrthographicCamera(i.xmag/-2,i.xmag/2,i.ymag/2,i.ymag/-2,i.znear,i.zfar)),void 0!==n.name&&(t.name=n.name),I(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},k.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then(function(e){return n.inverseBindMatrices=e,n})},k.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],i=[],r=[],o=[],s=[],a=0,l=t.channels.length;a<l;a++){var u=t.channels[a],c=t.samplers[u.sampler],h=u.target,p=void 0!==h.node?h.node:h.id,f=void 0!==t.parameters?t.parameters[c.input]:c.input,m=void 0!==t.parameters?t.parameters[c.output]:c.output;n.push(this.getDependency("node",p)),i.push(this.getDependency("accessor",f)),r.push(this.getDependency("accessor",m)),o.push(c),s.push(h)}return Promise.all([Promise.all(n),Promise.all(i),Promise.all(r),Promise.all(o),Promise.all(s)]).then(function(n){for(var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=[],u=0,c=i.length;u<c;u++){var h=i[u],p=r[u],f=o[u],m=s[u],v=a[u];if(void 0!==h){var g;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,_[v.path]){case _.weights:g=THREE.NumberKeyframeTrack;break;case _.rotation:g=THREE.QuaternionKeyframeTrack;break;case _.position:case _.scale:default:g=THREE.VectorKeyframeTrack}var y=h.name?h.name:h.uuid,E=void 0!==m.interpolation?M[m.interpolation]:THREE.InterpolateLinear,T=[];_[v.path]===_.weights?h.traverse(function(e){!0===e.isMesh&&e.morphTargetInfluences&&T.push(e.name?e.name:e.uuid)}):T.push(y);for(var x=0,b=T.length;x<b;x++){var w=new g(T[x]+"."+_[v.path],THREE.AnimationUtils.arraySlice(p.array,0),THREE.AnimationUtils.arraySlice(f.array,0),E);"CUBICSPLINE"===m.interpolation&&(w.createInterpolant=function(e){return new d(this.times,this.values,this.getValueSize()/3,e)},w.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(w)}}}var R=void 0!==t.name?t.name:"animation_"+e;return new THREE.AnimationClip(R,void 0,l)})},k.prototype.loadNode=function(e){var t=this.json,i=this.extensions,r=this,o=t.meshReferences,s=t.meshUses,a=t.nodes[e];return(!0===a.isBone?Promise.resolve(new THREE.Bone):void 0!==a.mesh?r.getDependency("mesh",a.mesh).then(function(e){var t;if(o[a.mesh]>1){var n=s[a.mesh]++;(t=e.clone()).name+="_instance_"+n,t.onBeforeRender=e.onBeforeRender;for(var i=0,r=t.children.length;i<r;i++)t.children[i].name+="_instance_"+n,t.children[i].onBeforeRender=e.children[i].onBeforeRender}else t=e;return t}):void 0!==a.camera?r.getDependency("camera",a.camera):a.extensions&&a.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==a.extensions[n.KHR_LIGHTS_PUNCTUAL].light?r.getDependency("light",a.extensions[n.KHR_LIGHTS_PUNCTUAL].light):Promise.resolve(new THREE.Object3D)).then(function(e){if(void 0!==a.name&&(e.name=THREE.PropertyBinding.sanitizeNodeName(a.name)),I(e,a),a.extensions&&L(i,e,a),void 0!==a.matrix){var t=new THREE.Matrix4;t.fromArray(a.matrix),e.applyMatrix(t)}else void 0!==a.translation&&e.position.fromArray(a.translation),void 0!==a.rotation&&e.quaternion.fromArray(a.rotation),void 0!==a.scale&&e.scale.fromArray(a.scale);return e})},k.prototype.loadScene=function(){function e(t,n,i,r){var o=i.nodes[t];return r.getDependency("node",t).then(function(e){return void 0===o.skin?e:r.getDependency("skin",o.skin).then(function(e){for(var n=[],i=0,o=(t=e).joints.length;i<o;i++)n.push(r.getDependency("node",t.joints[i]));return Promise.all(n)}).then(function(n){for(var i=!0===e.isGroup?e.children:[e],r=0,o=i.length;r<o;r++){for(var s=i[r],a=[],l=[],u=0,c=n.length;u<c;u++){var h=n[u];if(h){a.push(h);var p=new THREE.Matrix4;void 0!==t.inverseBindMatrices&&p.fromArray(t.inverseBindMatrices.array,16*u),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[u])}s.bind(new THREE.Skeleton(a,l),s.matrixWorld)}return e});var t}).then(function(t){n.add(t);var s=[];if(o.children)for(var a=o.children,l=0,u=a.length;l<u;l++){var c=a[l];s.push(e(c,t,i,r))}return Promise.all(s)})}return function(t){var n=this.json,i=this.extensions,r=this.json.scenes[t],o=new THREE.Scene;void 0!==r.name&&(o.name=r.name),I(o,r),r.extensions&&L(i,o,r);for(var s=r.nodes||[],a=[],l=0,u=s.length;l<u;l++)a.push(e(s[l],o,n,this));return Promise.all(a).then(function(){return o})}}(),e}()},function(e,t){THREE.OrbitControls=function(e,t){var n,i,r,o,s;this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:THREE.MOUSE.LEFT,MIDDLE:THREE.MOUSE.MIDDLE,RIGHT:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return f.phi},this.getAzimuthalAngle=function(){return f.theta},this.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object.zoom},this.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(l),a.update(),p=h.NONE},this.update=(n=new THREE.Vector3,i=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0)),r=i.clone().inverse(),o=new THREE.Vector3,s=new THREE.Quaternion,function(){var e=a.object.position;return n.copy(e).sub(a.target),n.applyQuaternion(i),f.setFromVector3(n),a.autoRotate&&p===h.NONE&&A(2*Math.PI/60/60*a.autoRotateSpeed),f.theta+=m.theta,f.phi+=m.phi,f.theta=Math.max(a.minAzimuthAngle,Math.min(a.maxAzimuthAngle,f.theta)),f.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,f.phi)),f.makeSafe(),f.radius*=v,f.radius=Math.max(a.minDistance,Math.min(a.maxDistance,f.radius)),a.target.add(g),n.setFromSpherical(f),n.applyQuaternion(r),e.copy(a.target).add(n),a.object.lookAt(a.target),!0===a.enableDamping?(m.theta*=1-a.dampingFactor,m.phi*=1-a.dampingFactor,g.multiplyScalar(1-a.dampingFactor)):(m.set(0,0,0),g.set(0,0,0)),v=1,!!(y||o.distanceToSquared(a.object.position)>d||8*(1-s.dot(a.object.quaternion))>d)&&(a.dispatchEvent(l),o.copy(a.object.position),s.copy(a.object.quaternion),y=!1,!0)}),this.dispose=function(){a.domElement.removeEventListener("contextmenu",X,!1),a.domElement.removeEventListener("mousedown",z,!1),a.domElement.removeEventListener("wheel",F,!1),a.domElement.removeEventListener("touchstart",V,!1),a.domElement.removeEventListener("touchend",G,!1),a.domElement.removeEventListener("touchmove",q,!1),document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",k,!1),window.removeEventListener("keydown",j,!1)};var a=this,l={type:"change"},u={type:"start"},c={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},p=h.NONE,d=1e-6,f=new THREE.Spherical,m=new THREE.Spherical,v=1,g=new THREE.Vector3,y=!1,E=new THREE.Vector2,T=new THREE.Vector2,x=new THREE.Vector2,b=new THREE.Vector2,w=new THREE.Vector2,R=new THREE.Vector2,S=new THREE.Vector2,_=new THREE.Vector2,M=new THREE.Vector2;function H(){return Math.pow(.95,a.zoomSpeed)}function A(e){m.theta-=e}function P(e){m.phi-=e}var C,D=(C=new THREE.Vector3,function(e,t){C.setFromMatrixColumn(t,0),C.multiplyScalar(-e),g.add(C)}),L=function(){var e=new THREE.Vector3;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),g.add(e)}}(),I=function(){var e=new THREE.Vector3;return function(t,n){var i=a.domElement===document?a.domElement.body:a.domElement;if(a.object.isPerspectiveCamera){var r=a.object.position;e.copy(r).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),D(2*t*o/i.clientHeight,a.object.matrix),L(2*n*o/i.clientHeight,a.object.matrix)}else a.object.isOrthographicCamera?(D(t*(a.object.right-a.object.left)/a.object.zoom/i.clientWidth,a.object.matrix),L(n*(a.object.top-a.object.bottom)/a.object.zoom/i.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function O(e){a.object.isPerspectiveCamera?v/=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function U(e){a.object.isPerspectiveCamera?v*=e:a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),y=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function N(e){b.set(e.clientX,e.clientY)}function z(e){if(!1!==a.enabled){switch(e.preventDefault(),e.button){case a.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;N(e),p=h.PAN}else{if(!1===a.enableRotate)return;!function(e){E.set(e.clientX,e.clientY)}(e),p=h.ROTATE}break;case a.mouseButtons.MIDDLE:if(!1===a.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),p=h.DOLLY;break;case a.mouseButtons.RIGHT:if(!1===a.enablePan)return;N(e),p=h.PAN}p!==h.NONE&&(document.addEventListener("mousemove",B,!1),document.addEventListener("mouseup",k,!1),a.dispatchEvent(u))}}function B(e){if(!1!==a.enabled)switch(e.preventDefault(),p){case h.ROTATE:if(!1===a.enableRotate)return;!function(e){T.set(e.clientX,e.clientY),x.subVectors(T,E).multiplyScalar(a.rotateSpeed);var t=a.domElement===document?a.domElement.body:a.domElement;A(2*Math.PI*x.x/t.clientHeight),P(2*Math.PI*x.y/t.clientHeight),E.copy(T),a.update()}(e);break;case h.DOLLY:if(!1===a.enableZoom)return;!function(e){_.set(e.clientX,e.clientY),M.subVectors(_,S),M.y>0?O(H()):M.y<0&&U(H()),S.copy(_),a.update()}(e);break;case h.PAN:if(!1===a.enablePan)return;!function(e){w.set(e.clientX,e.clientY),R.subVectors(w,b).multiplyScalar(a.panSpeed),I(R.x,R.y),b.copy(w),a.update()}(e)}}function k(e){!1!==a.enabled&&(document.removeEventListener("mousemove",B,!1),document.removeEventListener("mouseup",k,!1),a.dispatchEvent(c),p=h.NONE)}function F(e){!1===a.enabled||!1===a.enableZoom||p!==h.NONE&&p!==h.ROTATE||(e.preventDefault(),e.stopPropagation(),a.dispatchEvent(u),function(e){e.deltaY<0?U(H()):e.deltaY>0&&O(H()),a.update()}(e),a.dispatchEvent(c))}function j(e){!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan&&function(e){switch(e.keyCode){case a.keys.UP:I(0,a.keyPanSpeed),a.update();break;case a.keys.BOTTOM:I(0,-a.keyPanSpeed),a.update();break;case a.keys.LEFT:I(a.keyPanSpeed,0),a.update();break;case a.keys.RIGHT:I(-a.keyPanSpeed,0),a.update()}}(e)}function V(e){if(!1!==a.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===a.enableRotate)return;!function(e){E.set(e.touches[0].pageX,e.touches[0].pageY)}(e),p=h.TOUCH_ROTATE;break;case 2:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){if(a.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);S.set(0,i)}if(a.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(r,o)}}(e),p=h.TOUCH_DOLLY_PAN;break;default:p=h.NONE}p!==h.NONE&&a.dispatchEvent(u)}}function q(e){if(!1!==a.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===a.enableRotate)return;if(p!==h.TOUCH_ROTATE)return;!function(e){T.set(e.touches[0].pageX,e.touches[0].pageY),x.subVectors(T,E).multiplyScalar(a.rotateSpeed);var t=a.domElement===document?a.domElement.body:a.domElement;A(2*Math.PI*x.x/t.clientHeight),P(2*Math.PI*x.y/t.clientHeight),E.copy(T),a.update()}(e);break;case 2:if(!1===a.enableZoom&&!1===a.enablePan)return;if(p!==h.TOUCH_DOLLY_PAN)return;!function(e){if(a.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);_.set(0,i),M.set(0,Math.pow(_.y/S.y,a.zoomSpeed)),O(M.y),S.copy(_)}if(a.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);w.set(r,o),R.subVectors(w,b).multiplyScalar(a.panSpeed),I(R.x,R.y),b.copy(w)}a.update()}(e);break;default:p=h.NONE}}function G(e){!1!==a.enabled&&(a.dispatchEvent(c),p=h.NONE)}function X(e){!1!==a.enabled&&e.preventDefault()}a.domElement.addEventListener("contextmenu",X,!1),a.domElement.addEventListener("mousedown",z,!1),a.domElement.addEventListener("wheel",F,!1),a.domElement.addEventListener("touchstart",V,!1),a.domElement.addEventListener("touchend",G,!1),a.domElement.addEventListener("touchmove",q,!1),window.addEventListener("keydown",j,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}})},function(e,t){THREE.CopyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")}},function(e,t){THREE.EffectComposer=function(e,t){if(this.renderer=e,void 0===t){var n={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat,stencilBuffer:!1},i=e.getDrawingBufferSize();(t=new THREE.WebGLRenderTarget(i.width,i.height,n)).texture.name="EffectComposer.rt1"}this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===THREE.CopyShader&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),void 0===THREE.ShaderPass&&console.error("THREE.EffectComposer relies on THREE.ShaderPass"),this.copyPass=new THREE.ShaderPass(THREE.CopyShader),this._previousFrameTime=Date.now()},Object.assign(THREE.EffectComposer.prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getDrawingBufferSize();e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){void 0===e&&(e=.001*(Date.now()-this._previousFrameTime)),this._previousFrameTime=Date.now();var t,n,i=!1,r=this.passes.length;for(n=0;n<r;n++)if(!1!==(t=this.passes[n]).enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),t.needsSwap){if(i){var o=this.renderer.context;o.stencilFunc(o.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),o.stencilFunc(o.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==THREE.MaskPass&&(t instanceof THREE.MaskPass?i=!0:t instanceof THREE.ClearMaskPass&&(i=!1))}},reset:function(e){if(void 0===e){var t=this.renderer.getDrawingBufferSize();(e=this.renderTarget1.clone()).setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var n=0;n<this.passes.length;n++)this.passes[n].setSize(e,t)}}),THREE.Pass=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(THREE.Pass.prototype,{setSize:function(e,t){},render:function(e,t,n,i,r){console.error("THREE.Pass: .render() must be implemented in derived pass.")}})},function(e,t){THREE.ShaderPass=function(e,t){THREE.Pass.call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof THREE.ShaderMaterial?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=THREE.UniformsUtils.clone(e.uniforms),this.material=new THREE.ShaderMaterial({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.ShaderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.ShaderPass,render:function(e,t,n,i,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}})},function(e,t){THREE.RenderPass=function(e,t,n,i,r){THREE.Pass.call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=i,this.clearAlpha=void 0!==r?r:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},THREE.RenderPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.RenderPass,render:function(e,t,n,i,r){var o,s,a=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(o=e.getClearColor().getHex(),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.render(this.scene,this.camera,this.renderToScreen?null:n,this.clear),this.clearColor&&e.setClearColor(o,s),this.scene.overrideMaterial=null,e.autoClear=a}})},function(e,t){THREE.LuminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{type:"t",value:null},luminosityThreshold:{type:"f",value:1},smoothWidth:{type:"f",value:1},defaultColor:{type:"c",value:new THREE.Color(0)},defaultOpacity:{type:"f",value:0}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform sampler2D tDiffuse;","uniform vec3 defaultColor;","uniform float defaultOpacity;","uniform float luminosityThreshold;","uniform float smoothWidth;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","vec3 luma = vec3( 0.299, 0.587, 0.114 );","float v = dot( texel.xyz, luma );","vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );","float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );","gl_FragColor = mix( outputColor, texel, alpha );","}"].join("\n")}},function(e,t){THREE.UnrealBloomPass=function(e,t,n,i){THREE.Pass.call(this),this.strength=void 0!==t?t:1,this.radius=n,this.threshold=i,this.resolution=void 0!==e?new THREE.Vector2(e.x,e.y):new THREE.Vector2(256,256),this.clearColor=new THREE.Color(0,0,0);var r={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;var o=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2);this.renderTargetBright=new THREE.WebGLRenderTarget(o,s,r),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(var a=0;a<this.nMips;a++){var l=new THREE.WebGLRenderTarget(o,s,r);l.texture.name="UnrealBloomPass.h"+a,l.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(l);var u=new THREE.WebGLRenderTarget(o,s,r);u.texture.name="UnrealBloomPass.v"+a,u.texture.generateMipmaps=!1,this.renderTargetsVertical.push(u),o=Math.round(o/2),s=Math.round(s/2)}void 0===THREE.LuminosityHighPassShader&&console.error("THREE.UnrealBloomPass relies on THREE.LuminosityHighPassShader");var c=THREE.LuminosityHighPassShader;this.highPassUniforms=THREE.UniformsUtils.clone(c.uniforms),this.highPassUniforms.luminosityThreshold.value=i,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new THREE.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:c.vertexShader,fragmentShader:c.fragmentShader,defines:{}}),this.separableBlurMaterials=[];var h=[3,5,7,9,11];for(o=Math.round(this.resolution.x/2),s=Math.round(this.resolution.y/2),a=0;a<this.nMips;a++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(h[a])),this.separableBlurMaterials[a].uniforms.texSize.value=new THREE.Vector2(o,s),o=Math.round(o/2),s=Math.round(s/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0;this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1),new THREE.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,void 0===THREE.CopyShader&&console.error("THREE.BloomPass relies on THREE.CopyShader");var p=THREE.CopyShader;this.copyUniforms=THREE.UniformsUtils.clone(p.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new THREE.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:p.vertexShader,fragmentShader:p.fragmentShader,blending:THREE.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this.oldClearColor=new THREE.Color,this.oldClearAlpha=1,this.camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this.scene=new THREE.Scene,this.basic=new THREE.MeshBasicMaterial,this.quad=new THREE.Mesh(new THREE.PlaneBufferGeometry(2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},THREE.UnrealBloomPass.prototype=Object.assign(Object.create(THREE.Pass.prototype),{constructor:THREE.UnrealBloomPass,dispose:function(){for(var e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose()},setSize:function(e,t){var n=Math.round(e/2),i=Math.round(t/2);this.renderTargetBright.setSize(n,i);for(var r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(n,i),this.renderTargetsVertical[r].setSize(n,i),this.separableBlurMaterials[r].uniforms.texSize.value=new THREE.Vector2(n,i),n=Math.round(n/2),i=Math.round(i/2)},render:function(e,t,n,i,r){this.oldClearColor.copy(e.getClearColor()),this.oldClearAlpha=e.getClearAlpha();var o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),r&&e.context.disable(e.context.STENCIL_TEST),this.renderToScreen&&(this.quad.material=this.basic,this.basic.map=n.texture,e.render(this.scene,this.camera,void 0,!0)),this.highPassUniforms.tDiffuse.value=n.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,e.render(this.scene,this.camera,this.renderTargetBright,!0);for(var s=this.renderTargetBright,a=0;a<this.nMips;a++)this.quad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=s.texture,this.separableBlurMaterials[a].uniforms.direction.value=THREE.UnrealBloomPass.BlurDirectionX,e.render(this.scene,this.camera,this.renderTargetsHorizontal[a],!0),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=THREE.UnrealBloomPass.BlurDirectionY,e.render(this.scene,this.camera,this.renderTargetsVertical[a],!0),s=this.renderTargetsVertical[a];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.render(this.scene,this.camera,this.renderTargetsHorizontal[0],!0),this.quad.material=this.materialCopy,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,r&&e.context.enable(e.context.STENCIL_TEST),this.renderToScreen?e.render(this.scene,this.camera,void 0,!1):e.render(this.scene,this.camera,n,!1),e.setClearColor(this.oldClearColor,this.oldClearAlpha),e.autoClear=o},getSeperableBlurMaterial:function(e){return new THREE.ShaderMaterial({defines:{KERNEL_RADIUS:e,SIGMA:e},uniforms:{colorTexture:{value:null},texSize:{value:new THREE.Vector2(.5,.5)},direction:{value:new THREE.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n                }",fragmentShader:"#include <common>                varying vec2 vUv;\n                uniform sampler2D colorTexture;\n                uniform vec2 texSize;                uniform vec2 direction;                                float gaussianPdf(in float x, in float sigma) {                    return 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;                }                void main() {\n                    vec2 invSize = 1.0 / texSize;                    float fSigma = float(SIGMA);                    float weightSum = gaussianPdf(0.0, fSigma);                    vec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;                    for( int i = 1; i < KERNEL_RADIUS; i ++ ) {                        float x = float(i);                        float w = gaussianPdf(x, fSigma);                        vec2 uvOffset = direction * invSize * x;                        vec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;                        vec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;                        diffuseSum += (sample1 + sample2) * w;                        weightSum += 2.0 * w;                    }                    gl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n                }"})},getCompositeMaterial:function(e){return new THREE.ShaderMaterial({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},dirtTexture:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n                void main() {\n                    vUv = uv;\n                    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n                }",fragmentShader:"varying vec2 vUv;                uniform sampler2D blurTexture1;                uniform sampler2D blurTexture2;                uniform sampler2D blurTexture3;                uniform sampler2D blurTexture4;                uniform sampler2D blurTexture5;                uniform sampler2D dirtTexture;                uniform float bloomStrength;                uniform float bloomRadius;                uniform float bloomFactors[NUM_MIPS];                uniform vec3 bloomTintColors[NUM_MIPS];                                float lerpBloomFactor(const in float factor) {                     float mirrorFactor = 1.2 - factor;                    return mix(factor, mirrorFactor, bloomRadius);                }                                void main() {                    gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +                                                      lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +                                                      lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +                                                      lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +                                                      lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );                }"})}}),THREE.UnrealBloomPass.BlurDirectionX=new THREE.Vector2(1,0),THREE.UnrealBloomPass.BlurDirectionY=new THREE.Vector2(0,1)},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(1),s=n.n(o),a=n(2),l=n.n(a),u=n(3),c=n.n(u);n(6),n(7),n(8),n(9),n(10),n(11),n(12),n(13);class h extends THREE.Scene{constructor(){super(),this.app=null,this.camera=null,this.tweens=new TWEEN.Group,this.proton=new Proton}start(){}update(e){this.tweens.update(),this.proton.update()}resize(){}initBloom(){const e=.1,t=0,n=.3,i=new THREE.RenderPass(this,this.camera),r=new THREE.UnrealBloomPass(new THREE.Vector2(window.innerWidth,window.innerHeight),1.5,.4,.85);r.renderToScreen=!0,r.threshold=t,r.strength=e,r.radius=n;const o=new THREE.EffectComposer(this.app.renderer);o.setSize(window.innerWidth,window.innerHeight),o.addPass(i),o.addPass(r),this.app.renderer=o}}var p={config:{}};class d{constructor(e,t){this.camera=e,this.tweens=t,this.scrollSpeed=isMobile.any?p.config.dollySpeed.mobile:p.config.dollySpeed.desktop,this.scrollEase=p.config.dollyEase,this.rotateSpeed=p.config.lookSpeed,this.rotateEase=p.config.lookEase,this._targetZ=e.position.z,this._targetRotY=e.rotation.y,this._targetRotX=e.rotation.x,this.maxRotationY=.05*Math.PI,this.minRotationY=.05*-Math.PI,this.maxRotationX=.05*Math.PI,this.minRotationX=.05*-Math.PI,this._cameraStartX=this.camera.position.x,this.focalOffset={x:0,y:0},this._startX=null,this._startY=null,this._lastX=null,this._lastY=null,this._maxZ=60,this._minZ=-40,document.addEventListener("wheel",e=>this.onScroll(e)),document.addEventListener("mousedown",e=>this.onDown(e)),document.addEventListener("mouseup",e=>this.onUp(e)),document.addEventListener("mousemove",e=>this.onMove(e)),document.addEventListener("touchstart",e=>this.onDown(e)),document.addEventListener("touchend",e=>this.onUp(e)),document.addEventListener("touchmove",e=>this.onTouchMove(e)),window.DeviceOrientationEvent?window.addEventListener("deviceorientation",e=>{this.onGyro({x:e.beta,y:e.gamma})},!0):window.DeviceMotionEvent?window.addEventListener("devicemotion",function(){this.onGyro({x:2*event.acceleration.x,y:2*event.acceleration.y})},!0):window.addEventListener("MozOrientation",function(){this.onGyro({x:50*event.orientation.x,y:50*event.orientation.y})},!0)}update(e){this.camera.position.z+=(this._targetZ-this.camera.position.z)*this.scrollEase,this.camera.rotation.y+=(this._targetRotY-this.camera.rotation.y)*this.rotateEase,this.camera.rotation.x+=(this._targetRotX-this.camera.rotation.x)*this.rotateEase,this.camera.position.x=60*Math.sin(.006*this.camera.position.z)+18*Math.sin(.01*this.camera.position.z)+this._cameraStartX,this.focalOffset.y=-(Math.sin(.006*this.camera.position.z)*Math.PI*.1+Math.sin(.01*this.camera.position.z)*Math.PI*.06),this._targetRotX<this.focalOffset.x+this.minRotationX?this._targetRotX=this.focalOffset.x+this.minRotationX:this._targetRotX>this.focalOffset.x+this.maxRotationX&&(this._targetRotX=this.focalOffset.x+this.maxRotationX),this._targetRotY<this.focalOffset.y+this.minRotationY?this._targetRotY=this.focalOffset.y+this.minRotationY:this._targetRotY>this.focalOffset.y+this.maxRotationY&&(this._targetRotY=this.focalOffset.y+this.maxRotationY)}scrollTrigger(){}onScroll(e){e.preventDefault&&e.preventDefault(),this._targetZ+=Math.sign(e.deltaY)*this.scrollSpeed,this.scrollTrigger&&this.scrollTrigger(),this._targetZ>this._maxZ?this._targetZ=this._maxZ:this._targetZ<this._minZ&&(this._targetZ=this._minZ)}onGyro(e){}onMove(e){if(e.preventDefault(),this._lastX&&this._lastY){const t=e.x-this._lastX;this._targetRotY-=this.rotateSpeed*Math.sign(t)*.001;const n=e.y-this._lastY;this._targetRotX-=this.rotateSpeed*Math.sign(n)*.001}this._lastX=e.x,this._lastY=e.y}onTouchMove(e){if(e.preventDefault(),e.touches[1]){const t=e.touches[0].pageX-this._startX;this._targetRotY-=this.rotateSpeed*Math.sign(t)*.001,this._targetRotY<this.minRotationY?this._targetRotY=this.minRotationY:this._targetRotY>this.maxRotationY&&(this._targetRotY=this.maxRotationY);const n=e.touches[0].pageY-this._startY;this._targetRotX-=this.rotateSpeed*Math.sign(n)*.001,this._targetRotX<this.minRotationX?this._targetRotX=this.minRotationX:this._targetRotX>this.maxRotationX&&(this._targetRotX=this.maxRotationX)}else{const t=this._startY-e.touches[0].pageY;this._targetRotX+=this.rotateSpeed*Math.sign(t)*.001,this._targetRotX<this.minRotationX?this._targetRotX=this.minRotationX:this._targetRotX>this.maxRotationX&&(this._targetRotX=this.maxRotationX),this.onScroll({deltaY:t})}}onDown(e){e.preventDefault(),this._isDown=!0,e.x?(this._startX=e.x,this._startY=e.y):e.touches&&(this._startX=e.touches[0].clientX,this._startY=e.touches[0].clientY)}onUp(e){e.preventDefault(),this._isDown=!1,this._startX=null,this._startY=null}}class f extends h{constructor(){super(),this.controls=null,this._state=f.STATE.NONE,this._mixers=[],this._time=0}start(){super.start();const e=new THREE.HemisphereLight(12303359,4473890);e.position.set(0,1,0),e.intensity=.08,this.add(e);const t=new THREE.DirectionalLight(16777215);t.position.set(40,60,-40),t.distance=0,t.intensity=.18,t.color=new THREE.Color(6731763),this.add(t);const n=this.app.getModel("skybox");n.scale.set(100,100,100),this.add(n);const i=new THREE.Scene;this.add(i),i.rotation.y=1.5*Math.PI,this._heliParent=i;const r=this.app.getModel("helicopter");r.scale.x=10,r.scale.y=10,r.scale.z=10,r.position.y=110,r.position.z=90,i.add(r),r.rotation.x=.1*-Math.PI,r.rotation.y=.5*Math.PI,new TWEEN.Tween(r.position,this.tweens).to({y:r.position.y-4},1800).easing(TWEEN.Easing.Quadratic.InOut).yoyo(!0).repeat(1/0).start(),this.camera.position.x=-60,this.camera.position.y=100,this._controls=new d(this.camera,this.tweens);const o=new THREE.AnimationMixer(r),s=r.animations,a=THREE.AnimationClip.findByName(s,"Helicopter");o.clipAction(a).play();this._hex=[];for(let e=0;e<6;e++){this._hex[e]=[];for(let t=0;t<6;t++){const n=this.app.getModel("hexagon_tall"),i=n.meshes.Floorpranelthick_0,r=n.meshes.Floorpranelthick_1;let o=new THREE.Mesh(i.geometry,i.material),s=new THREE.Mesh(r.geometry,r.material);const a=new THREE.Scene;a.add(o),a.add(s),a.scale.set(10,10,10),this.add(a),a.position.x=50*e-150+10,a.position.z=50*t-150+10,a.rotation.y=.25*Math.PI,a.tween=new TWEEN.Tween(a.position,this.tweens).to({y:a.position.y-6},1800).easing(TWEEN.Easing.Quadratic.InOut).yoyo(!0).repeat(1/0).delay(200*e+200*t).start(),this._hex[e].push(a)}}for(let e=0;e<30;e++);this.addStars(),this.cycle(),this._radius=180,this._fairyEmitter=this.createFairyEmitter(this._radius,100,"#00a0ff","#ffffff"),this.proton.addEmitter(this._fairyEmitter),this.proton.addRender(new Proton.SpriteRender(this)),this._mixers.push(o)}cycle(){setTimeout(()=>{this.disruptHex(),setTimeout(()=>{this.normalHex(),this.cycle()},2e4)},2e4)}normalHex(){const e=this._hex[0].length;for(let t=0;t<e;t++)for(let n=0;n<e;n++){const e=this._hex[t][n];e.tween.stop(),new TWEEN.Tween(e.position,this.tweens).to({y:0},1200).easing(TWEEN.Easing.Quadratic.InOut).onComplete(()=>{e.tween=new TWEEN.Tween(e.position,this.tweens).to({y:e.position.y-6},2800).easing(TWEEN.Easing.Quadratic.InOut).yoyo(!0).repeat(1/0).delay(200*t+200*n).start()}).start()}}disruptHex(){console.log("disprupt");const e=this._hex[0].length;for(let t=0;t<e;t++)for(let n=0;n<e;n++){const e=this._hex[t][n];e.tween.stop(),e.tween=new TWEEN.Tween(e.position,this.tweens).to({y:e.position.y-4+4*Math.random()},2e3+1e3*Math.random()).easing(TWEEN.Easing.Quadratic.InOut).yoyo(!0).repeat(1/0).start()}}addStars(){for(var e=new THREE.Geometry,t=0;t<1e4;t++){var n=new THREE.Vector3;n.x=THREE.Math.randFloatSpread(2e3),n.y=THREE.Math.randFloatSpread(2e3),n.z=THREE.Math.randFloatSpread(2e3),e.vertices.push(n)}var i=new THREE.Points(e,new THREE.PointsMaterial({color:8947848}));this.add(i)}createFairyEmitter(e,t,n,i){let r=this;var o=new Proton.Emitter;return o.rate=new Proton.Rate(new Proton.Span(1,2),new Proton.Span(.01,.02)),o.addInitialize(new Proton.Life(2)),o.addInitialize(new Proton.Body(function(){const e=r.app.getTexture("dot_add");var t=new THREE.SpriteMaterial({map:e,color:16711680,blending:THREE.AdditiveBlending,fog:!0});return new THREE.Sprite(t)}())),o.addInitialize(new Proton.Radius(80)),o.addBehaviour(new Proton.Alpha(1,0)),o.addBehaviour(new Proton.Color(n,i)),o.addBehaviour(new Proton.Scale(1,.5)),o.p.x=e,o.p.y=t,o.emit(),o}update(e){super.update(e);for(let t=0;t<this._mixers.length;t++)this._mixers[t].update(.1*e);this._time+=e,this._fairyEmitter.p.x=this._radius*Math.cos(.35*this._time),this._fairyEmitter.p.z=this._radius*Math.sin(.35*this._time),this._heliParent.rotation.y+=-.05*e,this._controls.update(e)}resize(){super.resize()}initAmbientEmitter(){const e=new Proton.Emitter;e.rate=new Proton.Rate(new Proton.Span(20,30),new Proton.Span(.2,.4)),e.addInitialize(new Proton.Radius(new Proton.Span(20,20)));const t=new Proton.Position;t.addZone(new Proton.BoxZone(1500,80,1500)),e.addInitialize(t),e.addInitialize(new Proton.Life(5,10));const n=this.app.getTexture("particle"),i=new THREE.SpriteMaterial({map:n,transparent:!0,color:16777215}),r=new THREE.Sprite(i);e.addInitialize(new Proton.Body(r)),e.addBehaviour(new Proton.Alpha(.8,0)),e.addBehaviour(new Proton.Scale(.2,.3)),e.addBehaviour(new Proton.RandomDrift(1,1,1,.05)),e.addBehaviour(new Proton.Rotate("random","random")),e.p.z=400,e.p.y=10,e.emit(),this.proton.addEmitter(e),this.proton.addRender(new Proton.SpriteRender(this))}setState(e){this.onStateEnd(),this._state=e,this.onStateBegin()}onStateBegin(){switch(this._state){case IslandScene.STATE.NONE:break;case IslandScene.STATE.ISLAND1:console.log(this._island1.position.z),new THREE.Vector3(-10,5,this._island1.position.z+10).applyQuaternion(this.camera.quaternion),new TWEEN.Tween(this.camera.position,this.tweens).to({x:-10,y:5,z:this._island1.position.z+10},800).easing(TWEEN.Easing.Quadratic.InOut).start(),new TWEEN.Tween(this.camera.rotation,this.tweens).to({y:.2*-Math.PI},800).easing(TWEEN.Easing.Quadratic.InOut).start(),setTimeout(()=>{this.controls.scrollTrigger=(()=>{this.setState(IslandScene.STATE.ISLAND2),this.controls.scrollTrigger=null})},1e3);break;case IslandScene.STATE.ISLAND2:new THREE.Vector3(10,5,this._island2.position.z+10).applyQuaternion(this.camera.quaternion),new TWEEN.Tween(this.camera.position,this.tweens).to({x:10,y:5,z:this._island2.position.z+10},800).easing(TWEEN.Easing.Quadratic.InOut).start(),new TWEEN.Tween(this.camera.rotation,this.tweens).to({y:.4*-Math.PI},800).easing(TWEEN.Easing.Quadratic.InOut).start(),setTimeout(()=>{this.controls.scrollTrigger=(()=>{this.setState(IslandScene.STATE.ISLAND3),this.controls.scrollTrigger=null})},1e3);break;case IslandScene.STATE.ISLAND3:new TWEEN.Tween(this.camera.position,this.tweens).to({x:-10,y:5,z:this._island3.position.z+10},800).easing(TWEEN.Easing.Quadratic.InOut).start(),new TWEEN.Tween(this.camera.rotation,this.tweens).to({y:.4*-Math.PI},800).easing(TWEEN.Easing.Quadratic.InOut).start(),setTimeout(()=>{this.controls.scrollTrigger=(()=>{this.setState(IslandScene.STATE.END),this.controls.scrollTrigger=null})},1e3);break;case IslandScene.STATE.END:break;default:console.warn("unknown state : "+this._state)}}onStateEnd(){switch(this._state){case IslandScene.STATE.NONE:case IslandScene.STATE.ISLAND1:case IslandScene.STATE.ISLAND2:case IslandScene.STATE.ISLAND3:case IslandScene.STATE.END:break;default:console.warn("unknown state : "+this._state)}}onStateUpdate(e){switch(this._state){case IslandScene.STATE.NONE:this.controls.update(e),Math.abs(this.camera.position.z-this._island1.position.z);break;case IslandScene.STATE.ISLAND1:case IslandScene.STATE.ISLAND2:case IslandScene.STATE.ISLAND3:break;case IslandScene.STATE.END:this.controls.update(e);break;default:console.warn("unknown state : "+this._state)}}}f.STATE={},f.STATE.NONE="none",f.STATE.ISLAND1="island1",f.STATE.ISLAND2="island2",f.STATE.ISLAND3="island3",f.STATE.END="end";var m=n(4),v=n.n(m);window.$=r.a,window.isMobile=s.a,window.TWEEN=l.a,window.Proton=c.a,(new class{constructor(){this._camera=null,this._renderer=null,this._activeRenderer=null,this._backgroundColor=0,this._elapsed=null,this._dt=null,this._activeScene=null,this.gltfLoader=(new THREE.GLTFLoader).setPath("assets/gltf/"),this.textureLoader=(new THREE.TextureLoader).setPath("assets/"),this.fileLoader=new THREE.FileLoader,this._assets={models:{},textures:{},data:{}},this._files=[{name:"sky",uri:"sky.jpg"},{name:"particle",uri:"particle.png"},{name:"dot",uri:"dot.png"},{name:"dot_add",uri:"dot_add.png"},{name:"config",uri:"config.json"},{name:"skybox",uri:"Skybox.gltf"},{name:"robot",uri:"robot.gltf"},{name:"helicopter",uri:"helicopterHelicopter.gltf"},{name:"hexagon",uri:"HexagonThin.gltf"},{name:"hexagon_tall",uri:"HexagonThick.gltf"}];const e=new v.a;e.showPanel(0),e.dom.style.position="absolute",e.dom.style.left="0px",e.dom.style.top="0px",this.stats=e}init(){this._elapsed=performance.now(),this._dt=0,this._camera=new THREE.PerspectiveCamera(90,window.innerWidth/window.innerHeight,.1,2e3),this._renderer=new THREE.WebGLRenderer({antialias:!0}),this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.setClearColor(this._backgroundColor,1),document.body.appendChild(this._renderer.domElement),this._activeRenderer=this._renderer,window.addEventListener("resize",()=>this.resize()),this.resize(),this.loadFiles(this._files,this.onLoadingComplete)}loadFiles(e,t){const n=e.length;let i=0;for(let r=0;r<n;r++){const o=e[r];switch(o.uri.split(".")[1]){case"gltf":this.loadGLTF(o,()=>{i++,console.log("loading : "+(i/n*100).toFixed(2)+"%"),i===n&&t.call(this)});break;case"jpg":case"jpeg":case"png":this.loadTexture(o,()=>{i++,console.log("loading : "+(i/n*100).toFixed(2)+"%"),i===n&&t.call(this)});break;case"json":this.loadData(o,()=>{i++,console.log("loading : "+(i/n*100).toFixed(2)+"%"),i===n&&t.call(this)})}}}onLoadingComplete(){p.config=this.getData("config"),this.setActiveScene(new f),this.update()}update(){this.stats.begin();const e=performance.now();this._dt=.01*(e-this._elapsed),this._elapsed=e,TWEEN.update(),this._activeScene&&this._activeScene.update(this._dt),this._activeRenderer&&(this._activeRenderer instanceof THREE.EffectComposer?this._activeRenderer.render():this._activeRenderer.render(this._activeScene,this._camera)),requestAnimationFrame(()=>this.update()),this.stats.end()}resize(){this._renderer.setSize(window.innerWidth,window.innerHeight),this._activeRenderer instanceof THREE.EffectComposer&&this._activeRenderer.setSize(window.innerWidth,window.innerHeight),this._camera.aspect=window.innerWidth/window.innerHeight,this._camera.updateProjectionMatrix(),this._activeScene&&this._activeScene.resize()}setActiveScene(e){this._activeScene=e,this._activeScene.app=this,this._activeScene.camera=this._camera,this._activeScene.start()}loadGLTF(e,t){this.gltfLoader.load(e.uri,n=>{this._assets.models[e.name]={},this._assets.models[e.name].model=n.scene,this._assets.models[e.name].model.meshes={},this._assets.models[e.name].model.animations=n.animations,n.scene.traverse(t=>{t.isMesh&&(this._assets.models[e.name].model.meshes[t.name]=t,"skybox"!==e.name?"helicopter"===e.name?t.material=new THREE.MeshLambertMaterial({map:t.material.map,color:t.material.color,reflectivity:0,shininess:0}):"hexagon_tall"===e.name&&"Floorpranelthick_0"===t.name&&(t.material=new THREE.MeshStandardMaterial({map:t.material.map,emissiveMap:t.material.map,emissiveIntensity:1,emissive:16777215})):t.material=new THREE.MeshBasicMaterial({map:t.material.map,reflectivity:0}))}),this._assets.models[e.name].getMesh=function(e){return this.meshes[e]},this._assets.models[e.name].base=n,t&&t.call(this)},void 0,function(e){console.error(e)})}loadTexture(e,t){this._assets.textures[e.name]={},this._assets.textures[e.name].texture=this.textureLoader.load(e.uri),t&&t.call(this)}loadData(e,t){this._assets.data[e.name]={},this.fileLoader.load("./assets/data/"+e.uri,n=>{this._assets.data[e.name]=JSON.parse(n),t&&t.call(this)},function(e){},function(e){console.error("An error happened")})}getModel(e){return this._assets.models[e].model}getTexture(e){return this._assets.textures[e].texture}getData(e){return this._assets.data[e]}get assets(){return this._assets}get renderer(){return this._renderer}get width(){return this._renderer.getDrawingBufferSize().width}get height(){return this._renderer.getDrawingBufferSize().height}set renderer(e){this._activeRenderer=e}}).init()}]);
//# sourceMappingURL=bundle.js.map